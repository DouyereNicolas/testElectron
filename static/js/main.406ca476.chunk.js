(this["webpackJsonpheimdall-web"]=this["webpackJsonpheimdall-web"]||[]).push([[0],{113:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},142:function(e,t,a){},144:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(20),c=a.n(s),i=(a(118),a(142),a(3)),l=a(16),o=a(0),u=Object(n.createContext)(void 0),d=function(e,t){if("setUser"===t.type)return Object(l.a)(Object(l.a)({},e),{},{id:t.payload.id?t.payload.id:Number(localStorage.getItem("user_id")),role:t.payload.role?t.payload.role:Number(localStorage.getItem("user_role"))});throw new Error("Invalid action type in context")},m=function(e){var t=e.children,a=Object(n.useReducer)(d,{}),r=Object(i.a)(a,2),s=r[0],c=r[1],l=Object(n.useMemo)((function(){return{state:s,dispatch:c}}),[s,c]);return Object(o.jsx)(u.Provider,{value:l,children:t})},j=function(){return Object(n.useContext)(u)},b=a(18),h=a(13),p=function(e){var t=e.time,a=Object(n.useRef)(null),r=Object(n.useState)(),s=Object(i.a)(r,2),c=s[0],l=s[1],u=Object(n.useState)(0),d=Object(i.a)(u,2),m=d[0],j=d[1],b=Object(n.useState)(!1),h=Object(i.a)(b,2),p=h[0],f=h[1],O=function(){a.current&&l(a.current.getBoundingClientRect().top)};Object(n.useEffect)((function(){return window.addEventListener("scroll",O),function(){window.removeEventListener("scroll",O)}}));return Object(n.useEffect)((function(){c&&(null!=c&&c<600&&!p&&function(e){f(!0);for(var t=0;t<e;t++)setTimeout((function(){j((function(e){return e+1}))}),1e3)}(t),c>1e3&&p&&(f(!1),j(0)))}),[c,p,t]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("h2",{className:"h2",ref:a,children:[" ",Object(o.jsx)("span",{className:"js-count","data-count":"1000",children:m})]})})};function f(){return Object(o.jsx)("section",{className:"sectionImgHome",children:Object(o.jsxs)("div",{className:"h-100",id:"h-100",style:{display:"flex"},children:[Object(o.jsxs)("div",{className:"col-4 numberDiv",children:[Object(o.jsx)(p,{time:1410}),Object(o.jsx)("h3",{children:"Chantiers r\xe9alis\xe9s"})]}),Object(o.jsxs)("div",{className:"col-4 numberDiv",children:[Object(o.jsx)(p,{time:1550}),Object(o.jsx)("h3",{children:"V\xe9hicules "})]}),Object(o.jsxs)("div",{className:"col-4 numberDiv",children:[Object(o.jsx)(p,{time:1590}),Object(o.jsx)("h3",{children:"Employ\xe9s"})]})]})})}var O=a.p+"static/media/image1.34fc0a97.jpg",x=a.p+"static/media/image4.37c9c4c9.jpg",v=a.p+"static/media/image6.cf62bec7.jpg",g=a.p+"static/media/image7.62de533e.jpg",_=a.p+"static/media/image8.af72038a.jpg",N=a.p+"static/media/image9.03d7d1b9.jpg";function y(){return Object(o.jsxs)("section",{className:"sectionGallery",style:{height:"auto"},children:[Object(o.jsxs)("div",{className:"divGallery",children:[Object(o.jsx)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-4 div_img",children:Object(o.jsx)("img",{src:O,className:"img-thumbnail",alt:"...",loading:"lazy"})}),Object(o.jsx)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-4 div_img",children:Object(o.jsx)("img",{src:x,className:"img-thumbnail",alt:"...",loading:"lazy"})}),Object(o.jsx)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-4 div_img",children:Object(o.jsx)("img",{src:v,className:"img-thumbnail",alt:"...",loading:"lazy"})})]}),Object(o.jsxs)("div",{className:"divGallery",children:[Object(o.jsxs)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-4 div_img",children:[Object(o.jsx)("img",{src:g,className:"img-thumbnail",alt:"...",loading:"lazy"}),Object(o.jsx)("div",{className:"div_main_des"})]}),Object(o.jsxs)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-4 div_img",children:[Object(o.jsx)("img",{src:_,className:"img-thumbnail",alt:"...",loading:"lazy"}),Object(o.jsx)("div",{className:"div_main_des"})]}),Object(o.jsxs)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-4 div_img",children:[Object(o.jsx)("img",{src:N,className:"img-thumbnail",alt:"...",loading:"lazy"}),Object(o.jsx)("div",{className:"div_main_des"})]})]}),Object(o.jsxs)("div",{className:"divGalleryMobile",children:[Object(o.jsxs)("div",{className:"col-12 col-xs-6 col-sm-6 col-md-6 col-lg-4",children:[Object(o.jsx)("img",{src:O,className:"img-thumbnail",alt:"...",loading:"lazy"}),Object(o.jsx)("div",{className:"div_main_des"})]}),Object(o.jsxs)("div",{className:"col-12 col-xs-6 col-sm-6 col-md-6 col-lg-4",children:[Object(o.jsx)("img",{src:x,className:"img-thumbnail",alt:"...",loading:"lazy"}),Object(o.jsx)("div",{className:"div_main_des"})]})]}),Object(o.jsxs)("div",{className:"divGalleryMobile",children:[Object(o.jsxs)("div",{className:"col-12 col-xs-6 col-sm-6 col-md-6 col-lg-4",children:[Object(o.jsx)("img",{src:v,className:"img-thumbnail",alt:"...",loading:"lazy"}),Object(o.jsx)("div",{className:"div_main_des"})]}),Object(o.jsxs)("div",{className:"col-12 col-xs-6 col-sm-6 col-md-6 col-lg-4",children:[Object(o.jsx)("img",{src:g,className:"img-thumbnail",alt:"...",loading:"lazy"}),Object(o.jsx)("div",{className:"div_main_des"})]})]}),Object(o.jsxs)("div",{className:"divGalleryMobile",children:[Object(o.jsxs)("div",{className:"col-12 col-xs-6 col-sm-6 col-md-6 col-lg-4",children:[Object(o.jsx)("img",{src:_,className:"img-thumbnail",alt:"...",loading:"lazy"}),Object(o.jsx)("div",{className:"div_main_des"})]}),Object(o.jsxs)("div",{className:"col-12 col-xs-6 col-sm-6 col-md-6 col-lg-4",children:[Object(o.jsx)("img",{src:N,className:"img-thumbnail",alt:"...",loading:"lazy"}),Object(o.jsx)("div",{className:"div_main_des"})]})]})]})}a(144);function k(){return Object(o.jsx)("section",{className:"sdSection",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"contentSdSection",children:[Object(o.jsx)("h2",{className:"text-center",children:"Nos valeurs"}),Object(o.jsxs)("div",{className:"d-flex bd-highlight mb-3",children:[Object(o.jsxs)("div",{className:"me-auto bd-highlight col-6 mr-4",id:"styleText",children:[Object(o.jsx)("h3",{children:"\xc9coute du client"}),Object(o.jsx)("p",{className:"ms-2",children:"Nous sommes \xe0 l\u2019\xe9coute de nos clients pour comprendre chacun de leurs besoins et y r\xe9pondre. Nous construisons une relation de confiance en assurant le succ\xe8s de chaque client gr\xe2ce \xe0 notre engagement en faveur de leur satisfaction."}),Object(o.jsx)("h3",{className:"mt-4",children:"Respect"}),Object(o.jsx)("p",{className:"ms-2",children:"Le respect mutuel et la confiance sont le fondement de toute entreprise prosp\xe8re. Et Heimdall confirme la r\xe8gle. Nous sommes convaincus que l\u2019intelligence collective, le travail d\u2019\xe9quipe, avec nos collaborateurs mais \xe9galement avec nos clients, est un puissant levier pour relever les d\xe9fis et r\xe9aliser nos ambitions."}),Object(o.jsx)("h3",{className:"mt-4",children:"Services"}),Object(o.jsx)("p",{className:"ms-2",children:"la volont\xe9 de servir nos clients est au coeur de notre engagement. Nous veillons \xe0 nous montrer toujours disponbles et \xe0 l'\xe9coute de leurs besoins. Nous traitons leurs demandes avec la plus grande diligence, et veillons \xe0 leur pleine satisfaction dans le cadre de nos domaines de comp\xe9tences."}),Object(o.jsx)("h3",{className:"mt-4",children:"Performance"}),Object(o.jsx)("p",{className:"ms-2",children:"Gr\xe2ce \xe0 notre savoir-faire, notre exp\xe9rience et notre engagement, nous exer\xe7ons notre m\xe9tier avec rigueur, afin de livrer des prestations d'un haut niveau de qualit\xe9. Proches de nos march\xe9s et en cultivant des relations de proximit\xe9 avec nos clients, nous participons \xe0 la r\xe9alisation de valeurs ajout\xe9es."})]}),Object(o.jsx)("div",{className:" bd-highlight col-6",id:"colRightValeur",children:Object(o.jsx)("div",{className:"column"})})]})]})})})}function S(){return Object(o.jsx)("section",{className:"firstSection",children:Object(o.jsx)("div",{className:"container h-100",children:Object(o.jsxs)("div",{className:"title h-100 d-flex justify-content-center flex-column",children:[Object(o.jsx)("div",{children:Object(o.jsx)("h1",{className:"d-flex justify-content-center ",children:"HEIMDALL Construction"})}),Object(o.jsx)("div",{children:Object(o.jsx)("h2",{className:"d-flex justify-content-center mt-3 mx-5",children:"Entreprise du B\xe2timent, Travaux Services et Ma\xeetrise d\u2019\u0152uvre d'ex\xe9cution au service de vos projets de construction."})})]})})})}var D=a.p+"static/media/2869279.995ab2d9.jpg",E=a.p+"static/media/5197057.7122dfae.jpg",w=a.p+"static/media/5197052.fbf91d38.jpg",T=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)(S,{})}),Object(o.jsx)("div",{children:Object(o.jsx)(k,{})}),Object(o.jsx)("section",{className:"threeSection",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"row m-0",children:[Object(o.jsxs)("div",{className:"col-lg-4 text-align-center align-items-center d-flex flex-column mb-3 mt-5",children:[Object(o.jsx)("img",{src:D,id:"imgRounded",className:"rounded-circle",alt:"Un service adapt\xe9"}),Object(o.jsx)("h4",{className:" d-flex justify-content-center mt-2",children:"Un service adapt\xe9"}),Object(o.jsx)("p",{children:"Parce que chaque chantier est unique, HEIMDALL Construction dispose d\u2019un Service M\xe9thode qui intervient durant la p\xe9riode de pr\xe9paration de chantier, afin de d\xe9terminer les modes constructifs les plus ad\xe9quats au projet en les comparant et en les optimisant d\u2019un point de vue co\xfbt, d\xe9lais, s\xe9curit\xe9, et qualit\xe9. En d\xe9finissant un mode constructif, ce service d\xe9termine \xe9galement le besoin en mat\xe9riel, mat\xe9riaux et main d\u2019\u0153uvre et en \xe9tablit les plannings pr\xe9visionnels."})]}),Object(o.jsxs)("div",{className:"col-lg-4 text-align-center align-items-center d-flex flex-column mb-3 mt-5",children:[Object(o.jsx)("img",{src:E,id:"imgRounded",className:"rounded-circle",alt:"Gros oeuvres"}),Object(o.jsx)("h4",{className:" d-flex justify-content-center mt-2",children:"Le gros oeuvre"}),Object(o.jsx)("p",{children:"Le gros \u0153uvre est l\u2019activit\xe9 premi\xe8re de HEIMDALL Construction. Que ce soit pour la construction d\u2019ouvrages priv\xe9s ou publics, la soci\xe9t\xe9 garantie les objectifs en termes de qualit\xe9, de d\xe9lai et de budget. Ma\xeetrisant diff\xe9rentes techniques de construction (b\xe9ton arm\xe9, ma\xe7onnerie de pierre, parpaings, briques\u2026), HEIMDALL Construction intervient pour des projets de construction, extensions, r\xe9habilitation, fondations, sur\xe9l\xe9vation ou de r\xe9novation d\u2019ouvrages vari\xe9s."})]}),Object(o.jsxs)("div",{className:"col-lg-4 text-align-center align-items-center d-flex flex-column mb-3 mt-5",children:[Object(o.jsx)("img",{src:w,id:"imgRounded",className:"rounded-circle",alt:"Travaux services"}),Object(o.jsx)("h4",{className:" d-flex justify-content-center mt-2",children:"Les travaux services"}),Object(o.jsx)("p",{children:"Que ce soit pour de la r\xe9novation ou pour du neuf, cette activit\xe9 n\xe9cessite une r\xe9activit\xe9 sans faille pour assurer des missions courtes, qui nous sont souvent confi\xe9es par les particuliers et les professionnels. La vari\xe9t\xe9 des missions \xab Travaux Services \xbb qui nous sont confi\xe9es, est une preuve de nos comp\xe9tences \xe9largies. Des grands noms de l\u2019industrie en demande de maintenance, aux particuliers en besoin d\u2019une intervention de Remises en \xe9tat suite \xe0 sinistre, notre champs de comp\xe9tences est large, et maitris\xe9."})]})]})})}),Object(o.jsx)("div",{id:"SliderHome",children:Object(o.jsx)(f,{})}),Object(o.jsx)("div",{id:"SliderHome",children:Object(o.jsx)(y,{})})]})},L=a(22),A=a(2),R=a.n(A),I=a(6),C=a(21),U=a.n(C),M=a(10),P=function e(){Object(M.a)(this,e)};function F(){return(F=Object(I.a)(R.a.mark((function e(t,a){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("token"),e.next=3,fetch(P.POST_LOGIN_URL,{method:"POST",mode:"cors",body:JSON.stringify({login:t,password:a}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:if("Unauthorized"===(n=e.sent).message){e.next=12;break}return e.next=7,B(n);case 7:return localStorage.setItem("user_id",n.user.id),localStorage.setItem("user_role",n.user.role_id),r=U()().unix()+n.expires_in,localStorage.setItem("token_validity",r.toString()),e.abrupt("return",n.user);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return G.apply(this,arguments)}function G(){return(G=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear(),localStorage.setItem("token",t.token);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(I.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_ALL_USERS_URL,{mode:"cors",method:"GET",headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_USER_SEARCH_URL.replace(P.ARG_USER_ID,t.toString()),{mode:"cors",method:"GET",headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return J.apply(this,arguments)}function J(){return(J=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_USERS_BY_ROLE_URL.replace(P.ARG_ROLE_ID,t.toString()),{mode:"cors",method:"GET",headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return K.apply(this,arguments)}function K(){return(K=Object(I.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_ALL_USERS_URL,{mode:"cors",method:"GET",headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return $.apply(this,arguments)}function $(){return($=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.POST_USER_URL,{mode:"cors",method:"POST",body:JSON.stringify({login:t.login,password:t.password,password_confirmation:t.password,role_id:t.role_id}),headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.DELETE_USER_URL.replace(P.ARG_USER_ID,t.toString()),{mode:"cors",method:"DELETE",headers:{Authorization:localStorage.getItem("token")?"bearer"+localStorage.getItem("token"):"0"}}).then((function(e){return e.json()})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.PUT_USER_URL,{mode:"cors",method:"PUT",body:JSON.stringify({id:t.id,login:t.login,role_id:t.role_id}),headers:{Authorization:localStorage.getItem("token")?"bearer"+localStorage.getItem("token"):"0","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/users/password/put",{mode:"cors",method:"PUT",body:JSON.stringify({id:t.id,password:t.password}),headers:{Authorization:localStorage.getItem("token")?"bearer"+localStorage.getItem("token"):"0","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.POST_USER_DATA_URL,{mode:"cors",method:"POST",body:JSON.stringify({userData_userId:t.userData_userId,userData_key:t.userData_key,userData_column:t.userData_column}),headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.PUT_USER_DATA_URL,{mode:"cors",method:"PUT",body:JSON.stringify({userData_id:t.userData_id,userData_userId:t.userData_userId,userData_key:t.userData_key,userData_column:t.userData_column}),headers:{Authorization:localStorage.getItem("token")?"bearer"+localStorage.getItem("token"):"0","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}P.ARG_SITE_ID=":siteId",P.ARG_USER_ID=":userId",P.ARG_ROLE_ID=":roleId",P.ARG_MATERIAL_ID=":materialId",P.ARG_TASK_ID=":taskId",P.ARG_PROBLEM_ID=":ticketId",P.ARG_DATA_ID=":dataId",P.ARG_DATE=":date",P.POST_LOGIN_URL=(P.BASE_URL="http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1")+"/login",P.GET_SITE_SEARCH_URL=(P.GET_ALL_SITES_URL=P.BASE_URL+"/sites")+"/search/"+P.ARG_SITE_ID,P.GET_SITE_BY_USER_URL=P.GET_ALL_SITES_URL+"/user/"+P.ARG_USER_ID,P.POST_SITE_URL=P.GET_ALL_SITES_URL,P.PUT_SITE_URL=P.GET_ALL_SITES_URL+"/update",P.DELETE_SITE_URL=P.GET_ALL_SITES_URL+"/delete/"+P.ARG_SITE_ID,P.GET_SITE_DATA_URL=P.GET_ALL_SITES_URL+"/data/"+P.ARG_SITE_ID,P.POST_SITE_DATA_URL=P.BASE_URL+"/sites/data",P.PUT_SITE_DATA_URL=P.BASE_URL+"/sites/data/update",P.DELETE_SITE_DATA_URL=P.BASE_URL+"/sites/data/delete/"+P.ARG_DATA_ID,P.GET_SITE_DATE_URL=P.GET_ALL_SITES_URL+"/sites/count/"+P.ARG_DATE,P.GET_ALL_USERS_URL=P.BASE_URL+"/users",P.GET_USER_SEARCH_URL=P.BASE_URL+"/users/search/"+P.ARG_USER_ID,P.GET_USERS_BY_ROLE_URL=P.BASE_URL+"/users/role/"+P.ARG_ROLE_ID,P.POST_USER_URL=P.GET_ALL_USERS_URL,P.PUT_USER_URL=P.GET_ALL_USERS_URL+"/update",P.DELETE_USER_URL=P.GET_ALL_USERS_URL+"/delete/"+P.ARG_USER_ID,P.POST_USER_DATA_URL=P.BASE_URL+"/users/data",P.PUT_USER_DATA_URL=P.BASE_URL+"/users/data/update",P.DELETE_USER_DATA_URL=P.BASE_URL+"/users/ data/delete/"+P.ARG_DATA_ID,P.DELETE_PROBLEM_URL=P.BASE_URL+"/problems/delete/"+P.ARG_PROBLEM_ID,P.GET_ALL_PROBLEM_URL=P.BASE_URL+"/problems",P.GET_PROBLEM_URL=P.BASE_URL+"/problems/"+P.ARG_PROBLEM_ID,P.UPDATE_PROBLEM_URL=P.BASE_URL+"/problems/update",P.POST_PROBLEM_URL=P.BASE_URL+"/problems",P.DELETE_PROBLEM_DATA_URL=P.BASE_URL+"/problems/data/delete/"+P.ARG_PROBLEM_ID,P.GET_ALL_PROBLEM_DATA_URL=P.BASE_URL+"/problems/data/all",P.GET_PROBLEM_DATA_URL=P.BASE_URL+"/problems/data/problem/"+P.ARG_PROBLEM_ID,P.GET_PROBLEM_DATA_BY_ID_URL=P.BASE_URL+"/problems/data/"+P.ARG_DATA_ID,P.UPDATE_PROBLEM_DATA_URL=P.BASE_URL+"/problems/data/update",P.POST_PROBLEM_DATA_URL=P.BASE_URL+"/problems/data",P.GET_ALL_MATERIALS_URL=P.BASE_URL+"/materials",P.GET_ALL_MATERIALS_CATEGORY_URL=P.BASE_URL+"/materials/category/getAll",P.GET_MATERIAL_DETAIL_URL=P.BASE_URL+"/materials/search/"+P.ARG_MATERIAL_ID,P.PUT_MATERIAL_URL=P.BASE_URL+"/materials/update",P.DELETE_MATERIAL_URL=P.BASE_URL+"/materials/delete/"+P.ARG_MATERIAL_ID,P.POST_MATERIAL_URL=P.BASE_URL+"/materials",P.POST_MATERIAL_DATA_URL=P.BASE_URL+"/materials/data",P.PUT_MATERIAL_DATA_URL=P.BASE_URL+"/materials/data/update",P.GET_ALL_TASKS_URL=P.BASE_URL+"/plannings/searchAllTask",P.POST_TASK_URL=P.BASE_URL+"/plannings/nativeTask",P.PUT_TASK_URL=P.BASE_URL+"/plannings/tasks",P.GET_TASK_DATA_URL=P.BASE_URL+"/plannings/tasks/data/"+P.ARG_TASK_ID,P.POST_TASK_DATA_URL=P.BASE_URL+"plannings/nativeData",P.PUT_TASK_DATA_URL=P.BASE_URL+"/plannings/tasks/data";a(113);var ie=a.p+"static/media/HeimdallContructionSansFond.3985e122.png",le=a(12),oe=function(){var e=Object(b.f)(),t=j(),a=Object(n.useState)({login:{value:""},password:{value:""}}),r=Object(i.a)(a,2),s=r[0],c=r[1],u=function(e){var t=e.target.name,a=e.target.value,n=Object(L.a)({},t,{value:a});c(Object(l.a)(Object(l.a)({},s),n))},d=function(a){(a.preventDefault(),function(){var e=s;if(s.login.value.length<3){var t="Votre login doit faire au moins 3 caract\xe8res de long.",a={value:s.login.value,error:t,isValid:!1};s.login.error=t,e=Object(l.a)(Object(l.a)({},e),{username:a})}else{var n={value:s.login.value,error:"",isValid:!0};e=Object(l.a)(Object(l.a)({},e),{login:n})}if(s.password.value.length<3){var r="Votre mot de passe doit faire au moins 3 caract\xe8res de long.",i={value:s.password.value,error:r,isValid:!1};s.password.error=r,e=Object(l.a)(Object(l.a)({},e),{password:i})}else{var o={value:s.password.value,error:"",isValid:!0};e=Object(l.a)(Object(l.a)({},e),{password:o})}return c(e),e.login.isValid&&e.password.isValid}())&&function(e,t){return F.apply(this,arguments)}(s.login.value,s.password.value).then((function(a){a?(t.dispatch({type:"setUser",payload:{id:a.id,role:a.role_id}}),e.push("/")):le.b.error("\ud83d\udd10 Identifiant ou mot de passe incorrect.")}))};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)("div",{className:"d-flex align-items-stretch auth auth-img-bg h-100",children:Object(o.jsxs)("div",{className:"row flex-grow w-100 m-0",children:[Object(o.jsx)("div",{className:"col-lg-6 d-flex align-items-center justify-content-center",children:Object(o.jsxs)("div",{className:"auth-form-transparent text-left p-3",children:[Object(o.jsx)("div",{className:"brand-logo text-center",children:Object(o.jsx)("img",{src:ie,alt:"logo"})}),Object(o.jsx)("h4",{className:"text-center",children:"Welcome!"}),Object(o.jsx)("h6",{className:"font-weight-light text-center",children:"Happy to see you again!"}),Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsx)("form",{onSubmit:function(e){return d(e)},className:"pt-3 w-80 text-center",id:"fromLogin",children:Object(o.jsx)("div",{className:"card hoverable",children:Object(o.jsxs)("div",{className:"card-stacked",children:[Object(o.jsxs)("div",{className:"card-content",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"login",className:"text-dark",children:"Identifiant"}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsxs)("div",{className:"d-flex w-100",children:[Object(o.jsx)("i",{className:"material-icons",id:"iconFrom",children:"person"}),Object(o.jsx)("input",{id:"login",name:"login",type:"text",className:"form-control form-control-lg border-left-0",placeholder:"",value:s.login.value,onChange:function(e){return u(e)}})]}),Object(o.jsx)("div",{children:s.login.error?Object(o.jsx)("p",{className:"text-danger",children:s.login.error}):""})]})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"text-dark",children:"Mot de passe"}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("div",{className:"input-group-prepend bg-transparent"}),Object(o.jsxs)("div",{className:"d-flex w-100",children:[Object(o.jsx)("i",{className:"material-icons",id:"iconFrom",children:"vpn_key"}),Object(o.jsx)("input",{type:"password",name:"password",className:"form-control form-control-lg border-left-0",id:"password",placeholder:"",value:s.password.value,onChange:function(e){return u(e)}})]}),Object(o.jsx)("div",{children:s.password.error?Object(o.jsx)("p",{className:"text-danger",children:s.password.error}):""})]})]})]}),Object(o.jsx)("div",{className:"card-action",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-lg btnLogin",children:"Valider"})})]})})})})]})}),Object(o.jsx)("div",{className:"col-lg-6 login-half-bg d-flex flex-row"})]})})]})},ue=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(oe,{})})},de=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Le Havre",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100000",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Toto",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Toto",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"toto@email.com",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"0606060606",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"D\xe9crivez votre projet";Object(M.a)(this,e),this.id=void 0,this.place=void 0,this.budget=void 0,this.firstname=void 0,this.lastname=void 0,this.email=void 0,this.tel=void 0,this.desc=void 0,this.id=t,this.budget=n,this.place=a,this.firstname=r,this.lastname=s,this.email=c,this.tel=i,this.desc=l};function me(e){return je.apply(this,arguments)}function je(){return(je=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/heimdallAPI/public/api/v1/estimate/post",{method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify({place:t.place,budget:t.budget,firstname:t.firstname,lastname:t.lastname,email:t.email,phoneNumber:t.budget,description:t.desc})}).then((function(e){return e.json()})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(120);var be=a(133),he=(a(42),function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(i.a)(s,2),l=c[0],u=c[1],d=Object(n.useState)(""),m=Object(i.a)(d,2),j=m[0],b=m[1],h=Object(n.useState)(""),p=Object(i.a)(h,2),f=p[0],O=p[1],x=Object(n.useState)(""),v=Object(i.a)(x,2),g=v[0],_=v[1],N=Object(n.useState)(""),y=Object(i.a)(N,2),k=y[0],S=y[1],D=Object(n.useState)(""),E=Object(i.a)(D,2),w=E[0],T=E[1],L=function(){var e=Object(I.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new de).place=a,n.budget=l,n.firstname=j,n.lastname=f,n.email=g,n.tel=k,n.desc=w,Object(be.a)("service_p17tyxn","template_usnf46z",{from_name:"Heimdall Construction",to_name:n.firstname+" "+n.lastname,message:"Vous souhaiter un chantier a ladresse suivante : "+n.place+" pour un budget max de "+n.budget+" qui a pour descritpion "+n.desc+" Vous etes joignable par mail : "+n.email+" ou au numero : "+n.tel,reply_to:n.email},"user_RnDipXJGB3Kv9T7gL2Ih0").then((function(e){console.log("SUCCESS!",e.status,e.text),le.b.success("Message envoyer avec succ\xe8s\ud83d\udc4d",{})})).catch((function(e){console.log("FAILED...",e),le.b.warn("Le formulaire n'est pas complet !\ud83d\udc4e",{})})),e.next=12,me(n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("form",{className:"mt-5",id:"formEstimate",onSubmit:function(e){return L(e)},children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col s12 m8",children:Object(o.jsx)("div",{className:"card hoverable",children:Object(o.jsxs)("div",{className:"card-stacked",children:[Object(o.jsxs)("div",{className:"card-content",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"place",className:"text-dark",children:"Lieu de construction souhait\xe9e"}),Object(o.jsx)("input",{id:"place",className:"form-control",name:"place",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"budget",className:"text-dark",children:"Budget maximum total"}),Object(o.jsx)("input",{id:"budget",className:"form-control",name:"budget",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"firstname",className:"text-dark",children:"Pr\xe9nom"}),Object(o.jsx)("input",{id:"firstname",className:"form-control",name:"firstname",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"lastname",className:"text-dark",children:"Nom"}),Object(o.jsx)("input",{id:"lastname",className:"form-control",name:"lastname",value:f,onChange:function(e){return O(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"email",className:"text-dark",children:"Email"}),Object(o.jsx)("input",{id:"email",className:"form-control",name:"email",value:g,onChange:function(e){return _(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"tel",className:"text-dark",children:"T\xe9l\xe9phone"}),Object(o.jsx)("input",{id:"tel",className:"form-control",name:"tel",value:k,onChange:function(e){return S(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"desc",className:"text-dark",children:"D\xe9crivez votre projet"}),Object(o.jsx)("textarea",{id:"desc",className:"form-control styleArea",name:"desc",value:w,onChange:function(e){return T(e.target.value)}})]})]}),Object(o.jsx)("div",{className:"card-action center",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-lg btnLogin",children:"Valider"})})]})})})})]})}),pe=function(){var e=Object(n.useState)((new Date).getTime()),t=Object(i.a)(e,1)[0],a=Object(n.useState)(new de(t)),r=Object(i.a)(a,1)[0];return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"heroEstimate",children:Object(o.jsx)("div",{id:"materialFristDiv",children:Object(o.jsxs)("div",{className:"container mt-5",children:[Object(o.jsx)("h2",{className:"header center estimateStyleTitle",children:"Demande de devis"}),Object(o.jsx)(he,{estimate:r})]})})})})};function fe(){return(fe=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/plannings/tasks/data/"+t,{mode:"cors",method:"GET",headers:{Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/plannings/tasks/search/"+t,{mode:"cors",method:"GET",headers:{Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/plannings/tasks/taskByUser/"+t,{mode:"cors",method:"GET",headers:{Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return 204===e.status?0:e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return(_e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/plannings/tasks/delete/"+t,{mode:"cors",method:"DELETE",headers:{Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/plannings/tasks",{mode:"cors",method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/plannings/tasks",{mode:"cors",method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/plannings/tasks/data",{mode:"cors",method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/plannings/tasks/data/"+t,{mode:"cors",method:"GET",headers:{Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/plannings/tasks/data/del/"+t,{mode:"cors",method:"DELETE",headers:{Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re,Ie=a(86),Ce=(a(151),a(152),a(170)),Ue=a(127),Me=function(e){var t,a,r=e.Task,s=e.supprimer,c=e.modify,l=Object(Ie.b)(U.a),u=Object(b.f)(),d=Object(n.useState)([]),m=Object(i.a)(d,2),j=m[0],p=m[1],f=Object(n.useState)(),O=Object(i.a)(f,2),x=O[0],v=O[1],g=Object(n.useState)([]),_=Object(i.a)(g,2),N=_[0],y=_[1];function k(e){w(!0),v(e.ressourceId),y(e),function(e){return fe.apply(this,arguments)}(e.ressourceId).then((function(e){p(e)}))}Object(n.useEffect)((function(){for(var e=document.getElementsByTagName("button"),n=0;n<e.length;n++){"Week"===e[n].innerHTML||"Day"===e[n].innerHTML||"Today"===e[n].innerHTML?e[n].style.display="none":"Month"===e[n].innerHTML||"Mois"===e[n].innerHTML?(e[n].innerHTML="Mois",t=e[n]):"Next"===e[n].innerHTML?e[n].innerHTML="Suiv.":"Back"===e[n].innerHTML?e[n].innerHTML="Arr.":"Agenda"===e[n].innerHTML&&(a=e[n]);for(var r=document.getElementsByClassName("rbc-toolbar-label"),s=0;s<r.length;s++)console.log(r[s])}t?t.click():console.log(),a?a.click():console.log(),t?t.click():console.log(),setTimeout((function(){t?t.click():console.log();for(var e=["Dimanche","Lundi","Mardi","mercredi","Jeudi","Vendredi","Samedi"],a=document.getElementsByClassName("rbc-header"),n=0;n<a.length;n++)for(var r=a[n].childNodes,s=0;s<r.length;s++)r[s].innerHTML=e[n]}),100)}),[]);var S=Object(n.useState)(!1),D=Object(i.a)(S,2),E=D[0],w=D[1],T=function(){return w(!1)},L=document.getElementById("modalDetails");return Object(o.jsxs)("div",{className:"",children:[console.log(r),Object(o.jsx)("div",{className:"hero-auto",children:Object(o.jsxs)("div",{className:"heroProblemeEnfant",children:[Object(o.jsx)("h1",{className:"center pt-5 mt-5 text-light",children:"Agenda"}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light green z-deepth-3",style:{position:"fixed",top:"90px",right:"25px"},to:"/planning/add",children:Object(o.jsx)("i",{className:"material-icons",children:"add"})}),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(Ce.a,{show:E,onHide:T,className:"deleteModal",animation:!1,children:Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)(Ce.a.Body,{children:"Details de la tache"}),Object(o.jsx)("div",{id:"modalDetails",children:j.map((function(e){L&&("site_id"===e.taskData_key?(L.append("Id du site : "),L.append("".concat(e.taskData_column))):"nameUser"===e.taskData_key?(L.append("Nom : "),L.append("".concat(e.taskData_column))):"Description"===e.taskData_key&&(L.append("Details : "),L.append("".concat(e.taskData_column))))}))}),Object(o.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(o.jsx)(Ue.a,{variant:"secondary",onClick:function(){c(x,N)},children:"Modifier"}),Object(o.jsx)(Ue.a,{variant:"secondary",onClick:function(){s(x),w(!1),u.push("/planning")},children:"Supprimer"}),Object(o.jsx)(Ue.a,{variant:"secondary",onClick:T,children:"Annuler"})]})]})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)(Ie.a,{localizer:l,defaultDate:new Date,defaultView:"month",events:r,onSelectEvent:function(e){return k(e)},style:{height:"100vh"}})})]})]})})]})},Pe=function(){var e=Object(b.f)(),t=localStorage.getItem("user_id"),a=Object(n.useState)([]),r=Object(i.a)(a,2),s=r[0],c=r[1],l=[];return Object(n.useEffect)((function(){t&&ve(t).then((function(e){0!==e&&e.map((function(e){return s.push({title:e.task_title,start:e.task_dateStart,end:e.task_dateEnd,ressourceId:e.task_id})}))}))}),[s,t]),Object(o.jsx)(Me,{Task:s,supprimer:function(e){c([]),function(e){return _e.apply(this,arguments)}(e).then((function(){t&&ve(t).then((function(e){e.map((function(e){return l.push({title:e.task_title,start:e.task_dateStart,end:e.task_dateEnd,ressourceId:e.task_id})}))})),c(l)}))},modify:function(t){e.push("/planning/modify/"+t)}})},Fe=(a(121),a(15));!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.CUSTOMER=1]="CUSTOMER",e[e.EMPLOYEE=2]="EMPLOYEE",e[e.DIRECTOR=3]="DIRECTOR",e[e.MANAGER=4]="MANAGER"}(Re||(Re={}));var Be,Ge=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(M.a)(this,e),this.hc_role_id=void 0,this.hc_role_name=void 0,this.hc_role_id=t,this.hc_role_name=a}return Object(Fe.a)(e,null,[{key:"getStringEnum",value:function(e){switch(e){case Re.CUSTOMER:return"Client";case Re.EMPLOYEE:return"Employ\xe9e";case Re.DIRECTOR:return"Directeur";case Re.MANAGER:return"Chef de chantier";case Re.UNDEFINED:return"Sans emploi"}}},{key:"getRoleArray",value:function(){return[Re.CUSTOMER,Re.EMPLOYEE,Re.DIRECTOR,Re.MANAGER]}}]),e}(),ze=function(e){var t=e.user,a=Object(b.f)(),r=function(e){a.push("/users/update/".concat(e))},s=Object(n.useState)(!1),c=Object(i.a)(s,2),l=c[0],u=c[1],d=function(){return u(!1)},m=Object(n.useState)(!1),j=Object(i.a)(m,2),h=j[0],p=j[1],f=function(){return p(!1)},O=Object(n.useState)(""),x=Object(i.a)(O,2),v=x[0],g=x[1],_=Object(n.useState)(""),N=Object(i.a)(_,2),y=N[0],k=N[1],S=function(e){switch(e.target.name){case"password":g(e.target.value);break;case"confirmPassword":k(e.target.value)}},D=function(){var e=!0;return E()&&(e=v!==y),e},E=function(){return v&&y},w=function(){var e=Object(I.a)(R.a.mark((function e(a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t.password=v,e.next=5,te(t).then((function(e){return e}));case 5:p(!1),le.b.success("mot de passe modifi\xe9 avec succ\xe8s\ud83d\udc4d",{}),e.next=10;break;case 9:le.b.warn("Le formulaire n'est pas complet !\ud83d\udc4e",{});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function T(){u(!0)}function L(e){return A.apply(this,arguments)}function A(){return(A=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t).catch((function(e){return console.log(e)}));case 2:le.b.success("Utilisateur supprim\xe9 avec succ\xe8s\ud83d\udc4d",{}),u(!1),setTimeout((function(){window.location.reload()}),3e3);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(e){switch(e){case Re.DIRECTOR:case Re.MANAGER:return!0;case Re.CUSTOMER:case Re.EMPLOYEE:case Re.UNDEFINED:default:return!1}}(Number(localStorage.getItem("user_role")))?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ce.a,{show:l,onHide:d,className:"deleteModal",animation:!1,children:Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)(Ce.a.Body,{children:["Etes-vous sur de vouloir supprimer l'utilisateur \"",t.login,'"']}),Object(o.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(o.jsx)(Ue.a,{variant:"secondary",onClick:d,children:"Annuler"}),Object(o.jsx)(Ue.a,{variant:"danger",onClick:function(){return L(t.id)},children:"Supprimer"})]})]})}),Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark","z-index":"9999999"}),Object(o.jsx)(Ce.a,{show:h,onHide:f,className:"deleteModal",animation:!1,children:Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)(Ce.a.Body,{children:Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsxs)("form",{onSubmit:function(e){return w(e)},children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"text-dark",children:"Mot de passe"}),Object(o.jsx)("input",{type:"password",value:v,name:"password",onChange:function(e){return S(e)}}),Object(o.jsx)("label",{className:"text-dark",children:"Confirmer le mot de passe"}),Object(o.jsx)("input",{type:"password",value:y,name:"confirmPassword",onChange:function(e){return S(e)}})]}),Object(o.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(o.jsx)(Ue.a,{type:"submit",className:"btn btn-lg btnLogin",disabled:D(),children:" Valider "}),Object(o.jsx)(Ue.a,{className:"btn btn-lg btnLogin",onClick:f,children:" Annuler "})]})]})})})})}),Object(o.jsx)("div",{className:"page-content page-container",id:"page-content",children:Object(o.jsx)("div",{className:"padding",children:Object(o.jsx)("div",{className:"row container d-flex justify-content-center",children:Object(o.jsx)("div",{className:"col-xl-12 col-md-12",children:Object(o.jsx)("div",{className:"card user-card-full",id:"cardProfil",children:Object(o.jsxs)("div",{className:"row mb-3",children:[Object(o.jsx)("div",{className:"col-sm-4 bg-c-lite-green user-profile",children:Object(o.jsxs)("div",{className:"card-block text-center text-white",children:[Object(o.jsx)("div",{className:"m-b-25",children:Object(o.jsx)("img",{src:"https://img.icons8.com/bubbles/100/000000/user.png",className:"img-radius",alt:"User-Profile"})}),Object(o.jsxs)("h6",{className:"f-w-600",children:["Profil ",t.id]}),t&&t.data?t.data.map((function(e){return Object(o.jsxs)("p",{className:"",children:[e.userData_key," : ",e.userData_column]})})):"",Object(o.jsx)(Ue.a,{variant:"outline-success",type:"submit",className:"mt-3 m-3 btn-floating btn-small waves-effect waves-light",onClick:function(){return r(t.id)},children:Object(o.jsx)("i",{className:"material-icons",children:"border_color"})}),Object(o.jsx)(Ue.a,{variant:"outline-danger",type:"submit",className:"mt-3 m-3 btn-floating btn-small waves-effect waves-light",onClick:function(){return T()},children:Object(o.jsx)("i",{className:"material-icons",children:"delete"})}),Object(o.jsx)("i",{className:"mdi mdi-square-edit-outline feather icon-edit m-t-10 f-16"})]})}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsxs)("div",{className:"card-block",children:[Object(o.jsx)("h6",{className:"m-b-20 p-b-5 b-b-default f-w-600 textStyle",children:"Information"}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"Email :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:"contact@heimdall.fr"})]}),Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"T\xe9l :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:"0235350206"})]}),Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"R\xf4le :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:Ge.getStringEnum(t.role_id)})]}),Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"Login :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:t.login})]})]}),Object(o.jsx)("h6",{className:"m-b-20 m-t-40 p-b-5 b-b-default f-w-600 textStyle",children:"Autres"}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"Cr\xe9e le :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:U()(t.created_at.date).format("DD/MM/YYYY")})]}),Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"Modifi\xe9 le :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:t.updated_at?U()(t.updated_at.date).format("DD/MM/YYYY"):""})]})]}),Object(o.jsxs)("div",{className:"d-flex justify-content-center text-center align-items-center",children:[Object(o.jsx)("h6",{className:"text-muted f-w-400 text-center",children:"Mot de passe perdu"}),Object(o.jsx)(Ue.a,{variant:"outline-success",type:"submit",className:"mt-3 m-3 btn-floating btn-small waves-effect waves-light green z-deepth-3",onClick:function(){g(""),k(""),p(!0)},children:Object(o.jsx)("i",{className:"material-icons",children:"border_color"})})]})]})})]})})})})})})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ce.a,{show:l,onHide:d,className:"deleteModal",animation:!1,children:Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)(Ce.a.Body,{children:["Etes-vous sur de vouloir supprimer l'utilisateur ",t.login," "]}),Object(o.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(o.jsx)(Ue.a,{variant:"secondary",onClick:d,children:"Annuler"}),Object(o.jsx)(Ue.a,{variant:"danger",onClick:function(){return L(t.id)},children:"Supprimer"})]})]})}),Object(o.jsx)(Ce.a,{show:h,onHide:f,className:"deleteModal",animation:!1,children:Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)(Ce.a.Body,{children:Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsxs)("form",{onSubmit:function(e){return w(e)},children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"text-dark textStyle",children:"Mot de passe"}),Object(o.jsx)("input",{type:"password",value:v,name:"password",onChange:function(e){return S(e)}}),Object(o.jsx)("label",{className:"text-dark textStyle",children:"Confirmer le mot de passe"}),Object(o.jsx)("input",{type:"password",value:y,name:"confirmPassword",onChange:function(e){return S(e)}})]}),Object(o.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(o.jsx)(Ue.a,{type:"submit",className:"btn btn-lg btnLogin",disabled:D(),children:" Valider "}),Object(o.jsx)(Ue.a,{className:"btn btn-lg btnLogin",onClick:f,children:" Annuler "})]})]})})})})}),Object(o.jsx)("div",{className:"page-content page-container",id:"page-content",children:Object(o.jsx)("div",{className:"padding",children:Object(o.jsx)("div",{className:"row container d-flex justify-content-center",children:Object(o.jsx)("div",{className:"col-xl-12 col-md-12",children:Object(o.jsx)("div",{className:"card user-card-full",id:"cardProfil",children:Object(o.jsxs)("div",{className:"row mb-3",children:[Object(o.jsx)("div",{className:"col-sm-4 bg-c-lite-green user-profile",children:Object(o.jsxs)("div",{className:"card-block text-center text-white",children:[Object(o.jsx)("div",{className:"m-b-25",children:Object(o.jsx)("img",{src:"https://img.icons8.com/bubbles/100/000000/user.png",className:"img-radius",alt:"User-Profile-"})}),Object(o.jsxs)("h6",{className:"f-w-600",children:["Profil ",t.id]}),t&&t.data?t.data.map((function(e){return Object(o.jsxs)("p",{className:"",children:[e.userData_key," : ",e.userData_column]})})):"",Object(o.jsx)(Ue.a,{variant:"outline-success",type:"submit",className:"mt-3 m-3 btn-floating btn-small waves-effect waves-light",onClick:function(){return r(t.id)},children:Object(o.jsx)("i",{className:"material-icons",children:"border_color"})}),Object(o.jsx)(Ue.a,{variant:"outline-danger",type:"submit",className:"mt-3 m-3 btn-floating btn-small waves-effect waves-light",onClick:function(){return T()},children:Object(o.jsx)("i",{className:"material-icons",children:"delete"})})]})}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsxs)("div",{className:"card-block",children:[Object(o.jsx)("h6",{className:"m-b-20 p-b-5 b-b-default f-w-600 textStyle",children:"Information"}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"Email :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:"contact@heimdall.fr"})]}),Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"T\xe9l :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:"0235350206"})]}),Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"R\xf4le :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:Ge.getStringEnum(t.role_id)})]}),Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"Login :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:t.login})]})]}),Object(o.jsx)("h6",{className:"m-b-20 m-t-40 p-b-5 b-b-default f-w-600 textStyle",children:"Autres"}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"Cr\xe9e le :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:U()(t.created_at.date).format("DD/MM/YYYY")})]}),Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"Modifi\xe9 le :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:t.updated_at?U()(t.updated_at.date).format("DD/MM/YYYY"):""})]})]})]})})]})})})})})})]})},He=function(){var e,t,a=Object(b.f)(),r=j(),s=Object(n.useState)([]),c=Object(i.a)(s,2),l=c[0],u=c[1];r&&void 0!==r.state.id&&null!==r.state.role?(e=r.state.id,t=r.state.role):null!==localStorage.getItem("user_id")?(e=Number(localStorage.getItem("user_id")),t=Number(localStorage.getItem("user_role"))):a.push("/login"),Object(n.useEffect)((function(){t===Re.DIRECTOR?function(){return z.apply(this,arguments)}().then((function(e){return u(e)})):H(e).then((function(e){return u([e])}))}),[t]);return Object(o.jsx)("div",{className:"hero-auto",children:Object(o.jsxs)("div",{id:"heroProfileEnfant",children:[Object(o.jsx)("h3",{className:"text-center mt-5 p-5 titleStyle text-light",children:"Profils utilisateurs"}),t===Re.DIRECTOR?Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsx)(Ue.a,{className:"text-lowercase m-1",variant:"success",onClick:function(){a.push("/CreateUser")},children:"Cr\xe9er un utilisateur"})}):Object(o.jsx)("div",{}),Object(o.jsx)("div",{className:"col-12 d-flex flex-wrap justify-content-center",children:l?l.map((function(e){return Object(o.jsx)(ze,{user:e},e.id)})):Object(o.jsx)("h3",{children:"No user"})})]})})};function Ye(){return(Ye=Object(I.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_ALL_MATERIALS_URL,{mode:"cors",headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(){return(Ve=Object(I.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_ALL_MATERIALS_URL,{mode:"cors",method:"GET",headers:{Authorization:localStorage.getItem("token")?"bearer"+localStorage.getItem("token"):"0"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return(Je=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_MATERIAL_DETAIL_URL.replace(P.ARG_MATERIAL_ID,t.toString()),{mode:"cors",method:"GET",headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.POST_MATERIAL_URL,{mode:"cors",method:"POST",body:JSON.stringify({material_ref:t.material_ref}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){return $e.apply(this,arguments)}function $e(){return($e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.DELETE_MATERIAL_URL.replace(P.ARG_MATERIAL_ID,t.toString()),{mode:"cors",method:"DELETE",headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0"}}).then();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.PUT_MATERIAL_URL,{mode:"cors",method:"PUT",body:JSON.stringify({material_id:t.material_id,material_ref:t.material_ref}),headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e){return et.apply(this,arguments)}function et(){return(et=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.POST_MATERIAL_DATA_URL,{mode:"cors",method:"POST",body:JSON.stringify({materialData_materialId:t.materialData_materialId,data_key:t.data_key,data_column:t.data_column}),headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return at.apply(this,arguments)}function at(){return(at=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.PUT_MATERIAL_DATA_URL,{mode:"cors",method:"PUT",body:JSON.stringify({materialData_id:t.materialData_id,materialData_materialId:t.materialData_materialId,data_key:t.data_key,data_column:t.data_column}),headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.PELLE=1]="PELLE",e[e.MARTEAU=2]="MARTEAU",e[e.PERCEUSE=3]="PERCEUSE",e[e.VEHICULE=4]="VEHICULE",e[e.TRANSPALETTE=5]="TRANSPALETTE",e[e.BROUETTE=6]="BROUETTE",e[e.DIABLE=7]="DIABLE"}(Be||(Be={}));var nt=function(){function e(){Object(M.a)(this,e)}return Object(Fe.a)(e,null,[{key:"getCategoriesArray",value:function(){return[Be.PELLE,Be.MARTEAU,Be.PERCEUSE,Be.VEHICULE,Be.TRANSPALETTE,Be.BROUETTE,Be.DIABLE]}},{key:"getTextCategory",value:function(e){switch(e){case Be.BROUETTE:return"Brouette";case Be.DIABLE:return"Diable";case Be.MARTEAU:return"Marteau";case Be.TRANSPALETTE:return"Transpalette";case Be.PERCEUSE:return"Perceuse";case Be.PELLE:return"Pelle";case Be.VEHICULE:return"V\xe9hicule";case Be.UNDEFINED:return"undefined"}}}]),e}(),rt=function(e){var t=e.material,a=Object(n.useState)(!1),r=Object(i.a)(a,2),s=r[0],c=r[1],l=Object(n.useState)(-1),u=Object(i.a)(l,2),d=u[0],m=u[1],j=function(){return c(!1)};function h(){return(h=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We(t).then((function(e){200===e.status?(le.b.success("Mat\xe9riel supprimer avec succ\xe8s"),setTimeout((function(){window.location.reload()}),5e3)):(le.b.warn("Erreur lors de la suppression du mat\xe9riel"),setTimeout((function(){window.location.reload()}),5e3))}));case 2:c(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=Object(b.f)();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)(Ce.a,{show:s,onHide:j,className:"deleteModal",animation:!1,children:Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)(Ce.a.Body,{children:["Etes-vous sur de vouloir supprimer le Materiel num\xe9ro ",d," "]}),Object(o.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(o.jsx)(Ue.a,{variant:"secondary",onClick:j,children:"Annuler"}),Object(o.jsx)(Ue.a,{variant:"danger",onClick:function(){return function(e){return h.apply(this,arguments)}(d)},children:"Supprimer"})]})]})}),Object(o.jsxs)("tr",{className:"table-light",children:[Object(o.jsx)("td",{className:"text-center tdId",children:t.material_id}),Object(o.jsx)("td",{className:"text-center",children:t.material_ref}),t.data?t.data.map((function(e){return"name"===e.data_key?Object(o.jsx)("td",{className:"text-center",children:e.data_column}):""})):"",t.data?t.data.map((function(e){return"categorie"===e.data_key?Object(o.jsx)("td",{className:"text-center",children:nt.getTextCategory(Number(e.data_column))}):""})):"",t.data?t.data.map((function(e){return"number"===e.data_key?Object(o.jsx)("td",{className:"text-center",children:e.data_column}):""})):"",Object(o.jsx)("td",{className:"text-center tdCreated",children:U()(t.created_at.date).format("DD/MM/YYYY")}),Object(o.jsx)("td",{className:"text-center tdUpdate",children:null!==t.updated_at?U()(t.updated_at.date).format("DD/MM/YYYY"):""}),Object(o.jsxs)("td",{className:"text-center p-0",children:[Object(o.jsx)(Ue.a,{variant:"outline-warning",type:"submit",className:"mt-3 m-3 btn-floating btn-small waves-effect waves-light yellow z-deepth-3",id:"editTab",onClick:function(){return e=t.material_id,void p.push("/material/update/".concat(e));var e},children:Object(o.jsx)("i",{className:"material-icons",children:"edit"})}),Object(o.jsx)(Ue.a,{variant:"outline-danger",type:"submit",className:"mt-3 m-3 btn-floating btn-small waves-effect waves-light red z-deepth-3",id:"deleteTab",onClick:function(){return e=t.material_id,c(!0),void m(e);var e},children:Object(o.jsx)("i",{className:"material-icons",children:"delete"})})]})]})]})},st=(a(153),a(105)),ct=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){(function(){return Ye.apply(this,arguments)})().then((function(e){r(e)}))}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"heroMaterial",children:Object(o.jsxs)("div",{id:"materialFristDiv",children:[Object(o.jsxs)("div",{className:"container",id:"container",children:[Object(o.jsx)("div",{className:"text-center mt-3 pt-2 pb-3 titleStyle text-light",children:"Materiels"}),Object(o.jsxs)(st.a,{striped:!0,hover:!0,className:"table table-responsive table-hover text-center pb-5 mb-5",id:"tableMaterialDetail",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{className:"bg-dark text-white",children:[Object(o.jsx)("th",{scope:"row",className:"tdId",children:"Mat\xe9riel id"}),Object(o.jsx)("th",{scope:"row",children:"R\xe9f\xe9rence du mat\xe9riel"}),Object(o.jsx)("th",{scope:"row",children:"Nom du mat\xe9riel"}),Object(o.jsx)("th",{scope:"row",children:"Cat\xe9gorie du mat\xe9riel"}),Object(o.jsx)("th",{scope:"row",children:"Nombre de mat\xe9riel"}),Object(o.jsx)("th",{scope:"row",className:"tdCreated",children:"Cr\xe9e le"}),Object(o.jsx)("th",{scope:"row",className:"tdUpdate",children:"Derni\xe8re Modification"}),Object(o.jsx)("th",{scope:"row",children:"Actions"})]})}),Object(o.jsx)("tbody",{children:a.map((function(e){return Object(o.jsx)(rt,{material:e})}))})]})]}),Object(o.jsx)("div",{className:"pb-2",children:Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light green z-deepth-3",style:{position:"fixed",top:"85px",right:"25px"},to:"/CreateMaterial",children:Object(o.jsx)("i",{className:"material-icons",children:"add"})})})]})})})},it=a(173),lt=function(e){var t=e.site,a=Object(b.f)(),n=function(e){return U.a.unix(e).format("DD/MM/YYYY")},r=function(){var e=U.a.unix(t.site_date_start),a=U.a.unix(t.site_date_end),n=U()(),r=a.diff(e,"days"),s=n.diff(e,"days")/r*100;return 0!==s?s:100};return Object(o.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-3 s6 m4",children:Object(o.jsx)("div",{className:"card-deck",children:Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("img",{src:"https://batiadvisor.fr/wp-content/uploads/2019/07/pgc-chantier.jpg",alt:"Props"}),Object(o.jsxs)("div",{className:"card-body",style:{minHeight:"300px"},children:[Object(o.jsx)("h5",{className:"card-title d-flex justify-content-center",children:t.site_id}),Object(o.jsxs)("p",{className:"card-id",children:["Num\xe9ro de chantier : ",t.site_number_site," "]}),Object(o.jsxs)("p",{className:"card-date",children:["D\xe9bute le : ",n(t.site_date_start)]}),null!==t.site_date_end?Object(o.jsxs)("p",{children:["Termin\xe9 le : ",n(t.site_date_end)]}):Object(o.jsx)("p",{children:"En cours"}),Object(o.jsx)(it.a,{animated:!0,now:r(),variant:100===r()?"success":""}),Object(o.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(o.jsx)(Ue.a,{variant:"outline-warning",type:"submit",className:"mt-3 m-3 btn-floating btn-meduim waves-effect waves-light green z-deepth-3",onClick:function(){return e=t.site_id,void a.push("/sites/search/".concat(e));var e},children:Object(o.jsx)("i",{className:"material-icons",children:"search"})}),Object(o.jsx)(Ue.a,{variant:"outline-warning",type:"submit",className:"mt-3 m-3 btn-floating btn-meduim waves-effect waves-light yellow z-deepth-3",onClick:function(){return e=t.site_id,void a.push("/sites/edit/".concat(e));var e},children:Object(o.jsx)("i",{className:"material-icons",children:"edit"})}),Object(o.jsx)(Ue.a,{variant:"outline-warning",type:"submit",className:"mt-3 m-3 btn-floating btn-meduim waves-effect waves-light blue z-deepth-3",onClick:function(){return e=t.site_id,void a.push("/planningSite/uniq/"+e);var e},children:Object(o.jsx)("i",{className:"material-icons",children:"event"})})]})]})]})})})},ot=function(){function e(){Object(M.a)(this,e)}return Object(Fe.a)(e,null,[{key:"getAllSites",value:function(){var e=Object(I.a)(R.a.mark((function e(){var t=this;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_ALL_SITES_URL,{mode:"cors",method:"GET",headers:{Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).catch((function(e){return t.handleError(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getSite",value:function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_SITE_SEARCH_URL.replace(P.ARG_SITE_ID,t.toString()),{mode:"cors",method:"GET",headers:{Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSiteData",value:function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/sites/data/"+t,{mode:"cors",method:"GET",headers:{Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSiteByUser",value:function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_SITE_BY_USER_URL.replace(P.ARG_USER_ID,t.toString()),{mode:"cors",method:"GET",headers:{Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postSite",value:function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.POST_SITE_URL,{method:"POST",mode:"cors",body:JSON.stringify({site_number_site:t.site_number_site.toString(),site_date_start:U()(t.site_date_start).unix(),site_date_end:U()(t.site_date_end).unix()}),headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postSiteData",value:function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.POST_SITE_DATA_URL,{method:"POST",mode:"cors",body:JSON.stringify({siteData_siteId:t.siteData_siteId.toString(),siteData_key:t.siteData_key,siteData_column:t.siteData_column}),headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSite",value:function(){var e=Object(I.a)(R.a.mark((function e(t){var a=this;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.PUT_SITE_URL,{method:"PUT",mode:"cors",body:JSON.stringify({site_id:t.site_id,site_number_site:t.site_number_site,site_date_start:t.site_date_start,site_date_end:t.site_date_end}),headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).catch((function(e){return a.handleError(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteSite",value:function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.DELETE_SITE_URL.replace(P.ARG_SITE_ID,t.toString()),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateData",value:function(){var e=Object(I.a)(R.a.mark((function e(t){var a=this;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.PUT_SITE_DATA_URL,{method:"PUT",mode:"cors",body:JSON.stringify({siteData_id:t.siteData_id,siteData_key:t.siteData_key,siteData_column:t.siteData_column}),headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).catch((function(e){return a.handleError(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProblemBySite",value:function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.heimdall.cda5.lh.manusien-ecolelamanu.fr/api/v1/problem/data/getBySite/"+t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAddressGouv",value:function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api-adresse.data.gouv.fr/search/?limit=5&q="+t.replace(" ","+"),{method:"GET"}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"isEmpty",value:function(e){return 0===Object.keys(e).length}},{key:"handleError",value:function(e){console.error(e)}}]),e}(),ut=(a(154),function(){var e,t,a=j(),r=Object(b.f)(),s=Object(n.useState)([]),c=Object(i.a)(s,2),l=c[0],u=c[1];void 0!==a.state.id&&void 0!==a.state.role?(e=a.state.id,t=a.state.role):null!==localStorage.getItem("user_id")?(e=Number(localStorage.getItem("user_id")),t=Number(localStorage.getItem("user_role"))):r.push("/login"),Object(n.useEffect)((function(){t===Re.DIRECTOR?ot.getAllSites().then((function(e){u(e)})):ot.getSiteByUser(e).then((function(e){return u(e)}))}),[]);return Object(o.jsx)("div",{className:"heroSites",children:Object(o.jsxs)("div",{className:"heroSitesEnfant",children:[Object(o.jsx)("h1",{className:"center text-light",children:"Liste des chantiers"}),Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light green z-deepth-3",style:{position:"fixed",top:"90px",right:"25px"},to:"/sites/add",children:Object(o.jsx)("i",{className:"material-icons",children:"add"})}),l&&0!==l.length?l.map((function(e){return Object(o.jsx)(lt,{site:e},e.site_id)})):"Pas de site"]})})]})})}),dt=function(e){var t=e.match,a=Object(b.f)(),r=Object(n.useState)(),s=Object(i.a)(r,2),c=(s[0],s[1]),l=Object(n.useState)(),u=Object(i.a)(l,2),d=u[0],m=u[1],j=Object(n.useState)(),p=Object(i.a)(j,2),f=p[0],O=p[1],x=Object(n.useState)(),v=Object(i.a)(x,2),g=v[0],_=v[1],N=Object(n.useState)(),y=Object(i.a)(N,2),k=y[0],S=y[1];Object(n.useEffect)((function(){var e=function(){var e=Object(I.a)(R.a.mark((function e(){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.getSite(+t.params.id).then();case 2:a=e.sent,c(a),m(a.site),O(a.users),_(a.materials),S(a.tickets);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then()}),[t.params.id]);var D=Object(n.useState)(),E=Object(i.a)(D,2),w=E[0],T=E[1],L=function(){return T(!1)},A=function(e){return U.a.unix(e).format("DD/MM/YYYY")};return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"hero-auto",children:Object(o.jsx)("div",{className:"heroProblemeEnfant",children:Object(o.jsxs)("div",{className:"mt-5 pt-5 container-fluid ",children:[Object(o.jsxs)("div",{className:"d-flex flex-column",children:[Object(o.jsx)("div",{children:Object(o.jsx)("form",{className:"mt-5 d-flex justify-content-center",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12 m8",children:Object(o.jsxs)("div",{className:"card hoverable",id:"cardGeneral",children:[Object(o.jsx)("h2",{className:"text-center mb-5",children:" D\xe9tail du chantier"}),Object(o.jsx)("div",{className:"card-stacked",children:Object(o.jsxs)("div",{className:"card-content p-0",children:[Object(o.jsx)("div",{className:"form-group",children:d?Object(o.jsx)("div",{className:"d-flex flex-column text-center align-items-center",children:Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsxs)("div",{className:"card-block text-center",children:[Object(o.jsxs)("h6",{className:"m-b-20 p-b-5 b-b-default f-w-600 h6",children:["Information du Chantier Id ",d.site_id]}),Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"Num\xe9ro du chantier :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:d.site_number_site})]}),Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"D\xe9bute le :"}),Object(o.jsx)("h6",{className:"text-muted f-w-400",children:A(d.site_date_start)})]}),Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("p",{className:"m-b-10 f-w-600",children:"Fini le :"}),null!==d.site_date_end?Object(o.jsx)("h6",{className:"text-muted f-w-400",children:A(d.site_date_end)}):Object(o.jsx)("p",{children:"En cours"})]})]})})}):Object(o.jsx)("h3",{children:"Site not found"})}),Object(o.jsx)("h2",{className:"text-center m-b-20 p-b-5 b-b-default f-w-600 h6",children:"Liste des donn\xe9es du chantier"}),d&&d.data&&0!==d.data.length?Object(o.jsx)("div",{className:" d-flex flex-column text-center",children:Object(o.jsx)("div",{className:"d-flex flex-column text-center align-items-center",children:Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("div",{className:"card-block text-center p-0",children:Object(o.jsx)("div",{className:"col-12",children:d.data.map((function(e){return Object(o.jsx)("div",{children:"address"===e.siteData_key?Object(o.jsxs)("p",{className:"m-b-10 f-w-600",children:["Adresse: ",e.siteData_column]}):""})}))})})})})}):Object(o.jsx)("h3",{className:"text-center m-5",children:"Aucune donn\xe9es"}),Object(o.jsx)("h2",{className:"text-center m-b-20 p-b-5 b-b-default f-w-600 h6 mt-4",children:"Liste des personne affecter au chantier"}),Object(o.jsx)("div",{className:" d-flex flex-column text-center",children:f?f.map((function(e){return Object(o.jsx)("div",{children:e.data?e.data.map((function(e){return Object(o.jsxs)("span",{children:[e.userData_column," "]})})):""})})):""}),Object(o.jsxs)("div",{className:"d-flex flex-column text-center",children:[Object(o.jsx)("h2",{className:"text-center m-b-20 p-b-5 b-b-default f-w-600 h6 mt-4",children:"Liste des probl\xe8mes li\xe9s au chantier"}),k?k.map((function(e){return Object(o.jsx)("div",{children:e.data?e.data.map((function(e){return Object(o.jsx)("span",{children:e.problemData_column})})):""})})):""]}),Object(o.jsxs)("div",{className:"d-flex flex-column text-center",children:[Object(o.jsx)("h2",{className:"text-center m-b-20 p-b-5 b-b-default f-w-600 h6 mt-4",children:"Liste des mat\xe9riels du chantier"}),g?g.map((function(e){return Object(o.jsx)("div",{children:e.data?e.data.map((function(e){return Object(o.jsxs)("p",{children:[e.data_key,e.data_column]})})):""})})):""]}),Object(o.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(o.jsx)(Ue.a,{variant:"",className:"btn btn-lg btnLogin",onClick:function(){return T(!0)},children:"Supprimer"})})]})})]})})})})}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light orange lighten-1 z-deepth-3",style:{position:"fixed",top:"95px",left:"50px"},to:"/sites",children:Object(o.jsx)("i",{className:"material-icons",children:"navigate_before"})})]}),Object(o.jsxs)(Ce.a,{size:"sm",backdrop:!0,show:w,onHide:L,style:{background:"transparent"},children:[Object(o.jsx)(Ce.a.Header,{closeButton:!0,children:Object(o.jsx)(Ce.a.Title,{children:Object(o.jsx)("h2",{className:"text-center mb-5",children:"Supprimer le chantier"})})}),Object(o.jsx)(Ce.a.Body,{children:Object(o.jsx)("p",{children:"\xcates-vous s\xfbr de vouloir supprimer ce chantier ? "})}),Object(o.jsxs)(Ce.a.Footer,{className:"d-flex justify-content-around",children:[Object(o.jsx)(Ue.a,{onClick:L,children:"Annuler"}),Object(o.jsx)(Ue.a,{className:"red",onClick:function(){L(),ot.deleteSite(+t.params.id).then(),a.go(-1)},children:"Supprimer"})]})]})]})})})})},mt=function(){function e(t){Object(M.a)(this,e),this.site_id=0,this.site_number_site=0,this.site_date_start=0,this.site_date_end=0,this.created_at=null,this.updated_at=null,this.deleted_at=null,this.data=null,void 0!==t&&null!==t&&(this.site_id=t.site_id,this.site_number_site=t.site_number_site,this.site_date_start=t.site_date_start,this.site_date_end=t.site_date_end,this.created_at=t.created_at,this.updated_at=t.updated_at,this.deleted_at=t.deleted_at,this.data=t.data)}return Object(Fe.a)(e,[{key:"setSiteId",value:function(e){return this.site_id=e,this}},{key:"setNumberSite",value:function(e){return this.site_number_site=e,this}}]),e}(),jt=a(11),bt=function e(t){Object(M.a)(this,e),this.siteData_id=0,this.siteData_siteId=0,this.siteData_key="",this.siteData_column="",t&&(this.siteData_id=t.siteData_id,this.siteData_siteId=t.siteData_siteId,this.siteData_key=t.siteData_key,this.siteData_column=t.siteData_column)},ht=function(){function e(){Object(M.a)(this,e)}return Object(Fe.a)(e,null,[{key:"testFormatDate",value:function(e){return/^[2][0-9]{3}[-][0-9]{2}[-][0-9]{2}$/.test(e)}},{key:"testLogin",value:function(e){return/^[a-zA-Z0-9]+$/gi.test(e)}},{key:"testString",value:function(e){return/^[a-zA-Z\xe0\xe9\xe8 ]{3,25}$/.test(e)}},{key:"testPassword",value:function(e){return/(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]).{8,64}/.test(e)}},{key:"testInt",value:function(e){return/^[0-9]{1,25}$/.test(e)}},{key:"isValidAddress",value:function(e){return/([0-9]{4}) ?([a-zA-Z ]*) ?([0-9]{5}) ?([a-zA-Z]*)/.test(e)}},{key:"isValideEmail",value:function(e){return/^\w+([-]?\w+)*@\w+([-]?\w+)*(\.\w{2,3})+$/.test(e)}},{key:"isValideTel",value:function(e){return/^((\+|00)33\s?|0)[67](\s?\d{2}){4}$/.test(e)}},{key:"testFirstname",value:function(e){return this.testString(e.value)?e.isValid=!0:(e.error="Le pr\xe9nom est requis (3-25).",e.isValid=!1),e}},{key:"testLastname",value:function(e){return this.testString(e.value)?e.isValid=!0:(e.error="Le nom est requis (3-25).",e.isValid=!1),e}},{key:"testPlace",value:function(e){return this.testString(e.value)?e.isValid=!0:(e.error="Le lieu est requis (3-25).",e.isValid=!1),e}},{key:"testBudget",value:function(e){return this.testInt(e.value)?e.isValid=!0:(e.error="Le budget est requis (3-25).",e.isValid=!1),e}},{key:"testEmail",value:function(e){return this.isValideEmail(e.value)?e.isValid=!0:(e.error="L'email n'est pas valide",e.isValid=!1),e}},{key:"testTel",value:function(e){return this.isValideTel(e.value)?e.isValid=!0:(e.error="Le num\xe9ro de t\xe9l\xe9phone n'est pas valide",e.isValid=!1),e}},{key:"testProblemName",value:function(e){return!(e.length>25)}},{key:"testTextLength",value:function(e){return!(e.length>400)}},{key:"testNameMaterial",value:function(e){return!(e.length>25)}},{key:"testCatMaterial",value:function(e){return!(e.length>25)}},{key:"testRefMaterial",value:function(e){return!(e.length>25)}},{key:"checkNombreMaterial",value:function(e){return!!this.testInt(e)}},{key:"testNumberSite",value:function(e,t){return this.testInt(e.numberSite.value)?t?0===t.filter((function(t){return t.site_number_site===Number(e.numberSite.value)})).length?e.numberSite.isValid=!0:(e.numberSite.error="Le num\xe9ro de chantier \xe9xiste d\xe9j\xe0.",e.numberSite.isValid=!1):e.numberSite.isValid=!0:(e.numberSite.error="Le num\xe9ro de chantier est requis (3-25).",e.numberSite.isValid=!1),e}},{key:"testDate",value:function(e){return e.dateStart&&(this.testFormatDate(e.dateStart.value)?e.dateStart.isValid=!0:(e.dateStart.error="Le format date n'est pas valide",e.dateStart.isValid=!1)),e.dateEnd&&(this.testFormatDate(e.dateEnd.value)?e.dateEnd.isValid=!0:(e.dateEnd.error="Le format date n'est pas valide",e.dateEnd.isValid=!1)),e}},{key:"testAddress",value:function(e){if(e.length>5)return this.isValidAddress(e)}}]),e}(),pt=function(e){var t=e.site,a=Object(b.f)();Object(n.useEffect)((function(){q().then((function(e){u(e.filter((function(e){return e.role_id===Re.EMPLOYEE})))}))}),[]);var r=Object(n.useState)([]),s=Object(i.a)(r,2),c=s[0],l=s[1],u=function(e){var t=[];e.map((function(e){var a={user:e,isSelected:!1};return t.push(a),0})),l(t)},d=Object(n.useState)([]),m=Object(i.a)(d,2),j=m[0],h=m[1],p=Object(n.useState)([]),f=Object(i.a)(p,2),O=f[0],x=f[1];Object(n.useEffect)((function(){(function(){return Ve.apply(this,arguments)})().then((function(e){return function(e){var t,a=[],n=Object(jt.a)(e);try{for(n.s();!(t=n.n()).done;){var r={materials:t.value,isSelected:!1};a.push(r)}}catch(s){n.e(s)}finally{n.f()}x(a),h(a.slice(a.length-10))}(e)}))}),[]);var v=function(e){var t="";return e.user.data&&0!==e.user.data.length&&e.user.data.map((function(e){return 0===t.length?t=e.userData_column:t+=" "+e.userData_column,0})),t},g=function(){var e=Object(I.a)(R.a.mark((function e(a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!t){e.next=15;break}if(!t.data){e.next=12;break}if(0===t.data.filter((function(e){return"employee"===e.siteData_key||e.siteData_key.startsWith("mat-")})).length){e.next=9;break}return le.b.success("Chantier cr\xe9er avec succ\xe8s\ud83d\udc4d",{}),e.next=7,_(t);case 7:e.next=10;break;case 9:le.b.warn("Le formulaire n'est pas complet !\ud83d\udc4e",{});case 10:e.next=13;break;case 12:le.b.warn("Le formulaire n'est pas complet !\ud83d\udc4e",{});case 13:e.next=16;break;case 15:le.b.warn("Le formulaire n'est pas complet !\ud83d\udc4e",{});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(I.a)(R.a.mark((function e(n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.postSite(t).then((function(e){n.data&&0!==n.data.length&&n.data.map((function(t){if(t.siteData_siteId=e.site_id,t.siteData_key.startsWith("mat-")){var a=t.siteData_key.split("-");O.map((function(e){return e.isSelected&&e.materials.material_id===Number(a[1])&&N(t),0}))}else N(t);return 0}))}));case 2:window.setTimeout((function(){a.push("/sites")}),2e3);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.postSiteData(t).then();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t=[];if(e.length>3)t=O.filter((function(t){return t.materials.material_ref.startsWith(e)?t:0}));else{t=O.filter((function(e){return e.isSelected}));for(var a=0;a<10;a++)t.push(O[a])}h(t)},k=function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),y(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"mt-3 d-flex justify-content-center",children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)("form",{className:"mt-5 col-8",onSubmit:function(e){return g(e)},children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col s12 m8",children:Object(o.jsx)("div",{className:"card hoverable",id:"cardGeneral",children:Object(o.jsxs)("div",{className:"card-stacked p-0",children:[Object(o.jsxs)("div",{className:"form-check",children:[Object(o.jsx)("p",{children:"S\xe9lectionner les employ\xe9s li\xe9s au chantier"}),c?c.map((function(e){return Object(o.jsxs)("div",{className:"form-check form-switch",children:[Object(o.jsx)("input",{className:"form-check-input",style:{opacity:1,pointerEvents:"all"},role:"switch",type:"checkbox",value:e.user.id,id:e.user.id.toString(),onClick:function(){return function(e){if(e.isSelected=!e.isSelected,e.isSelected){var a=new bt;a.siteData_key="employee",a.siteData_column=e.user.id.toString(),null===t.data||void 0===t.data?(t.data=[],t.data.push(a)):t.data.push(a)}else{var n;null!==t.data&&void 0!==t.data&&(t.data.map((function(a){return"employee"===a.siteData_key&&a.siteData_column===e.user.id.toString()&&(n=t.data.indexOf(a)),0})),t.data.splice(n,1))}}(e)}}),Object(o.jsx)("label",{className:"form-check-label h6",htmlFor:e.user.id.toString(),children:v(e)})]})})):Object(o.jsx)("div",{children:"No employee"})]}),Object(o.jsxs)("div",{className:"form-check",children:[Object(o.jsx)("p",{children:"S\xe9lectionner les mat\xe9riels li\xe9s au chantier"}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"material",children:"Rechercher un mat\xe9riel"}),Object(o.jsx)("input",{id:"material",className:"form-control",type:"text",name:"material",onChange:function(e){return k(e)}})]}),O?O.map((function(e){return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"form-check form-switch",children:[Object(o.jsx)("input",{className:"form-check-input",style:{opacity:1,pointerEvents:"all"},role:"switch",type:"checkbox",value:e.materials.material_id,id:"checkbox-"+e.materials.material_id.toString(),onClick:function(t){return function(e,t){t.isSelected=!t.isSelected,e.target.id.split("-"),t.isSelected?document.getElementById("div-"+t.materials.material_id).style.display="block":document.getElementById("div-"+t.materials.material_id).style.display="none";var a,n=Object(jt.a)(O);try{for(n.s();!(a=n.n()).done;){var r=a.value;r.materials.material_id===t.materials.material_id&&(r.isSelected=t.isSelected)}}catch(s){n.e(s)}finally{n.f()}x(O),h(j)}(t,e)}}),Object(o.jsx)("label",{className:"form-check-label h6",htmlFor:"checkbox-"+e.materials.material_id.toString(),children:e.materials.material_ref})]}),Object(o.jsx)("div",{id:"div-"+e.materials.material_id.toString(),style:{display:"none"},children:e.materials.data&&0!==e.materials.data.length?e.materials.data.map((function(a){return"number"===a.data_key?Object(o.jsxs)("div",{className:"form-control",children:[Object(o.jsx)("p",{children:"En stock : "+a.data_column}),Object(o.jsx)("input",{type:"text",name:e.materials.material_id.toString(),onChange:function(n){return function(e,a,n){if(n.isSelected){var r,s=new bt;if(s.siteData_key="mat-"+e.target.name,s.siteData_column=e.target.value,0!==e.target.value.length)if(ht.checkNombreMaterial(s.siteData_column))if(Number(s.siteData_column)>a)document.getElementById("error-"+e.target.name).style.display="block";else if(document.getElementById("error-"+e.target.name).style.display="none",null===t.data||void 0===t.data)t.data=[],t.data.push(s);else if(0===t.data.filter((function(e){return e.siteData_key===s.siteData_key})).length)t.data.push(s);else{var c,i=Object(jt.a)(t.data);try{for(i.s();!(c=i.n()).done;){var l=c.value;s.siteData_key===l.siteData_key&&(l.siteData_column=s.siteData_column)}}catch(o){i.e(o)}finally{i.f()}}else document.getElementById("error-"+e.target.name).style.display="block";else null!==t.data&&void 0!==t.data&&(t.data.map((function(e){return e.siteData_key===s.siteData_key&&(r=t.data.indexOf(e)),0})),t.data.splice(r,1))}}(n,Number(a.data_column),e)}}),Object(o.jsxs)("p",{style:{display:"none"},className:"red accent-1",id:"error-"+e.materials.material_id,children:["Un chiffre inf\xe9rieur \xe0 votre stock (",a.data_column,")"]})]}):"categorie"===a.data_key?Object(o.jsx)("p",{children:nt.getTextCategory(Number(a.data_column))}):""})):""})]})})):Object(o.jsx)("div",{children:"No materials"})]}),Object(o.jsx)("div",{className:"mt-5 d-flex justify-content-center",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-lg btnLogin",children:"Valider"})})]})})})})})]})},ft=function(e){var t=e.site,a=Object(n.useState)(!0),r=Object(i.a)(a,2),s=r[0],c=r[1],u=Object(n.useState)(),d=Object(i.a)(u,2),m=d[0],j=d[1],b=Object(n.useState)(),h=Object(i.a)(b,2),p=h[0],f=h[1],O=Object(n.useState)(),x=Object(i.a)(O,2),v=x[0],g=x[1],_=Object(n.useState)([]),N=Object(i.a)(_,2),y=N[0],k=N[1],S=Object(n.useState)(),D=Object(i.a)(S,2),E=D[0],w=D[1],T=Object(n.useState)({numberSite:{value:null},dateStart:{value:null},dateEnd:{value:null}}),A=Object(i.a)(T,2),C=A[0],U=A[1],M=Object(n.useState)([]),P=Object(i.a)(M,2),F=P[0],B=P[1];Object(n.useEffect)((function(){V(Re.CUSTOMER).then((function(e){return B(e)}))}),[]);var G=Object(n.useState)([]),z=Object(i.a)(G,2),H=z[0],Y=z[1];Object(n.useEffect)((function(){V(Re.MANAGER).then((function(e){return Y(e)}))}),[]);var J=Object(n.useState)([]),q=Object(i.a)(J,2),K=q[0],W=q[1];Object(n.useEffect)((function(){ot.getAllSites().then((function(e){return W(e)}))}),[]);var $=function(e){var t=e.target.name,a=e.target.value,n=Object(L.a)({},t,{value:a});switch(t){case"numberSite":n=K?ht.testNumberSite(Object(L.a)({},t,{value:a}),K):ht.testNumberSite(Object(L.a)({},t,{value:a}));break;case"dateStart":case"dateEnd":n=ht.testDate(Object(L.a)({},t,{value:a}))}U(Object(l.a)(Object(l.a)({},C),n))},Z=function(){var e=Object(I.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=new bt).siteData_key=t.target.name,a.siteData_column=t.target.value,j(a),!(t.target.value.length>5)){e.next=7;break}return e.next=7,ot.getAddressGouv(t.target.value).then((function(e){k(e.features)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=!0;if(!X())for(var t=0,a=Object.entries(C);t<a.length;t++){a[t][1].isValid&&(e=!1)}return e},X=function(){return!(m&&v&&p)},ee=function(){var e=Object(I.a)(R.a.mark((function e(a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),Q()?le.b.warn("Le formulaire n'est pas complet !\ud83d\udc4e",{}):(t.site_number_site=C.numberSite.value,t.site_date_start=C.dateStart.value,t.site_date_end=C.dateEnd.value,c(!1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)("div",{children:s?Object(o.jsxs)("div",{className:"mt-3 d-flex justify-content-center",children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)("form",{className:"mt-5 col-8",onSubmit:function(e){return ee(e)},children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col s12 m8",children:Object(o.jsx)("div",{className:"card hoverable",id:"cardGeneral",children:Object(o.jsxs)("div",{className:"card-stacked p-0",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"numberSite",children:"Num\xe9ro de chantier"}),Object(o.jsx)("input",{id:"numberSite",className:"form-control",name:"numberSite",value:C.numberSite.value,onChange:function(e){return $(e)}}),C.numberSite.error?Object(o.jsx)("div",{className:"red accent-1",children:C.numberSite.error}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"dateStart",children:"Date de d\xe9but"}),Object(o.jsx)("input",{id:"dateStart",value:C.dateStart.value,name:"dateStart",type:"date",className:"form-control",onChange:function(e){return $(e)}}),C.dateStart.error?Object(o.jsx)("div",{className:"red accent-1",children:C.dateStart.error}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"dateEnd",children:"Date de fin"}),Object(o.jsx)("input",{id:"dateEnd",value:C.dateEnd.value,type:"date",name:"dateEnd",className:"form-control",onChange:function(e){return $(e)}}),C.dateEnd.error?Object(o.jsx)("div",{className:"red accent-1",children:C.dateEnd.error}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"address",children:"Adresse du chantier"}),Object(o.jsx)("input",{id:"address",className:"form-control",type:"text",value:m?m.siteData_column:"",name:"address",onChange:function(e){return Z(e)},onBlur:function(e){return function(e){if(null!==t.data&&void 0!==t.data||(t.data=[]),m&&"address"===m.siteData_key)if(0===t.data.filter((function(e){return e.siteData_key===m.siteData_key})).length)t.data.push(m);else{var a,n=Object(jt.a)(t.data);try{for(n.s();!(a=n.n()).done;){var r=a.value;r.siteData_key===m.siteData_key&&r.siteData_column!==m.siteData_column&&(r.siteData_column=m.siteData_column)}}catch(s){n.e(s)}finally{n.f()}}}()}}),null!==E?Object(o.jsx)("div",{className:"red accent-1",children:E}):""]}),Object(o.jsx)("div",{children:0!==y.length?y.map((function(e){return Object(o.jsx)("p",{style:{cursor:"pointer"},onClick:function(){return function(e){if(null===e.properties)w("Adresse non valide");else{var t=new bt;t.siteData_key="address",t.siteData_column=e.properties.label,m&&m.siteData_column!==t.siteData_column&&(m.siteData_column=e.properties.label,j(m)),j(t),k([])}}(e)},children:e.properties.label})})):""}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"customer",children:"Client"}),Object(o.jsxs)("select",{id:"customer",name:"customer",style:{display:"block"},onBlur:function(e){return function(e){null!==t.data&&void 0!==t.data||(t.data=[]);var a=new bt;if(a.siteData_key=e.target.name,a.siteData_column=e.target.value,f(a),t.data)if(0===t.data.filter((function(e){return e.siteData_key===a.siteData_key})).length)t.data.push(a);else{var n,r=Object(jt.a)(t.data);try{for(r.s();!(n=r.n()).done;){var s=n.value;s.siteData_key===a.siteData_key&&s.siteData_column!==a.siteData_column&&(s.siteData_column=a.siteData_column)}}catch(c){r.e(c)}finally{r.f()}}}(e)},children:[Object(o.jsx)("option",{disabled:!0,selected:!0,children:"Client"}),F.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.login},e.id)}))]})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"manager",children:"Chef de chantier"}),Object(o.jsxs)("select",{id:"manager",name:"manager",style:{display:"block"},onChange:function(e){return function(e){null!==t.data&&void 0!==t.data||(t.data=[]);var a=new bt;if(a.siteData_key=e.target.name,a.siteData_column=e.target.value,g(a),t.data)if(0===t.data.filter((function(e){return e.siteData_key===a.siteData_key})).length)t.data.push(a);else{var n,r=Object(jt.a)(t.data);try{for(r.s();!(n=r.n()).done;){var s=n.value;s.siteData_key===a.siteData_key&&s.siteData_column!==a.siteData_column&&(s.siteData_column=a.siteData_column)}}catch(c){r.e(c)}finally{r.f()}}}(e)},children:[Object(o.jsx)("option",{disabled:!0,selected:!0,children:"Chef de chantier"}),H.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.login},e.id)}))]})]}),Object(o.jsx)("div",{className:"mt-5",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-lg btnLogin",children:"Valider"})})]})})})})})]}):Object(o.jsx)(pt,{site:t})})},Ot=function(){var e=Object(n.useState)(new mt),t=Object(i.a)(e,1)[0];return Object(o.jsx)("div",{className:"heroMaterial",children:Object(o.jsx)("div",{id:"materialFristDiv",children:Object(o.jsxs)("div",{className:"container mt-5",children:[Object(o.jsx)("h2",{className:"header center text-light",children:"Ajouter un chantier"}),Object(o.jsx)(ft,{site:t})]})})})},xt=a(171),vt=a(168),gt=a(172),_t=a(169);function Nt(){return(Nt=Object(I.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_ALL_PROBLEM_URL,{mode:"cors",method:"GET",headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e){return kt.apply(this,arguments)}function kt(){return(kt=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.GET_PROBLEM_URL.replace(P.ARG_PROBLEM_ID,t.toString()),{mode:"cors",method:"GET",headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.DELETE_PROBLEM_URL.replace(P.ARG_PROBLEM_ID,t.toString()),{mode:"cors",method:"DELETE",headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0"}}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(e){return wt.apply(this,arguments)}function wt(){return(wt=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.UPDATE_PROBLEM_URL,{mode:"cors",method:"PUT",body:JSON.stringify({problem_id:t.problem_id,problem_ref:t.problem_ref}),headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.POST_PROBLEM_URL,{mode:"cors",method:"POST",body:JSON.stringify({problem_ref:t.problem_ref}),headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch(P.POST_PROBLEM_DATA_URL,{mode:"cors",method:"POST",body:JSON.stringify({problemData_problemId:t.problemData_problemId,problemData_key:t.problemData_key,problemData_column:t.problemData_column}),headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P.UPDATE_PROBLEM_DATA_URL,{mode:"cors",method:"PUT",body:JSON.stringify({problemData_id:t.problemData_id,problemData_problemId:t.problemData_problemId,problemData_key:t.problemData_key,problemData_column:t.problemData_column}),headers:{Authorization:localStorage.getItem("token")?"bearer "+localStorage.getItem("token"):"0","Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ut,Mt=function(e){var t=e.problem,a=Object(n.useState)(""),r=Object(i.a)(a,2),s=(r[0],r[1],Object(n.useState)([])),c=Object(i.a)(s,2),l=c[0],u=(c[1],function(){return h(!1)}),d=Object(n.useState)(!1),m=Object(i.a)(d,2),j=m[0],h=m[1],p=Object(n.useState)(-1),f=Object(i.a)(p,2),O=f[0],x=f[1],v=Object(b.f)();function g(){return(g=Object(I.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.next=3,St(t).then((function(e){return a=e}));case 3:null!==a?(le.b.success("Probl\xe8me supprimer avec succ\xe8s"),setTimeout((function(){window.location.reload()}),5e3)):(le.b.warn("Erreur lors de la suppression du probl\xe8me",{}),setTimeout((function(){window.location.reload()}),5e3)),h(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return null!==l?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)(Ce.a,{show:j,onHide:u,className:"deleteModal",animation:!1,children:Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)(Ce.a.Body,{children:["Etes-vous sur de vouloir supprimer le ticket num\xe9ro ",O," "]}),Object(o.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(o.jsx)(Ue.a,{variant:"secondary",onClick:u,children:"Annuler"}),Object(o.jsx)(Ue.a,{variant:"danger",onClick:function(){return function(e){return g.apply(this,arguments)}(O)},children:"Supprimer"})]})]})}),Object(o.jsxs)("tr",{className:"table-light",children:[Object(o.jsx)("td",{className:"col text-center tdId",children:t.problem_id}),Object(o.jsx)("td",{className:"col text-center",children:t.problem_ref}),Object(o.jsx)("td",{className:"col text-center",children:t.data?t.data.map((function(e){return"Nom"===e.problemData_key?Object(o.jsx)("td",{className:"text-center",children:e.problemData_column}):""})):""}),Object(o.jsx)("td",{className:"col text-center tdId",children:U()(t.created_at.date).format("DD/MM/YYYY")}),Object(o.jsx)("td",{className:"col text-center tdId",children:null!==t.updated_at?U()(t.updated_at.date).format("DD/MM/YYYY"):""}),Object(o.jsx)("td",{className:"col text-center",children:Object(o.jsx)(Ue.a,{className:"text-lowercase mt-3 btn-floating btn-small waves-effect waves-light green z-deepth-3",variant:"outline-primary",onClick:function(){return e=t.problem_id,void v.push("/problems/detail/".concat(e));var e},children:Object(o.jsx)("i",{className:"material-icons",children:"zoom_in"})})}),Object(o.jsx)("td",{className:"col text-center",children:Object(o.jsx)(Ue.a,{className:"text-lowercase mt-3 btn-floating btn-small waves-effect waves-light yellow z-deepth-3",variant:"outline-warning",onClick:function(){return e=t.problem_id,void v.push("/problems/update/".concat(e));var e},children:Object(o.jsx)("i",{className:"material-icons",children:"edit"})})}),Object(o.jsx)("td",{className:"col text-center",children:Object(o.jsx)(Ue.a,{type:"button",className:"text-lowercase mt-3  btn-floating btn-small waves-effect waves-light red z-deepth-3",variant:"outline-danger",onClick:function(){return e=t.problem_id,h(!0),void x(e);var e},children:Object(o.jsx)("i",{className:"material-icons",children:"delete"})})})]})]}):Object(o.jsx)("div",{className:"hero",children:Object(o.jsx)("p",{children:"Aucune donn\xe9es du ticket a afficher !"})})},Pt=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){(function(){return Nt.apply(this,arguments)})().then((function(e){return r(e)}))}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"heroMaterial",children:Object(o.jsx)("div",{className:"heroProblemeEnfant",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:"text-center mt-5 pt-5 pb-5 titleStyle text-light",children:"Tickets"}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light green z-deepth-3",style:{position:"fixed",top:"85px",right:"25px"},to:"/problems/create/",children:Object(o.jsx)("i",{className:"material-icons",children:"add"})}),Object(o.jsxs)(st.a,{striped:!0,hover:!0,className:"table table-responsive table-hover text-center mb-5",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{className:"table-dark",children:[Object(o.jsx)("th",{scope:"row",className:"tdId",children:"Ticket id"}),Object(o.jsx)("th",{scope:"row",children:"R\xe9f\xe9rence du Ticket"}),Object(o.jsx)("th",{scope:"row",children:"Nom du Ticket"}),Object(o.jsx)("th",{scope:"row",className:"tdId",children:"Cr\xe9e le"}),Object(o.jsx)("th",{scope:"row",className:"tdId",children:"Derni\xe8re Modification"}),Object(o.jsx)("th",{scope:"row",children:"D\xe9tail du Ticket"}),Object(o.jsx)("th",{scope:"row",children:"Modifier le Ticket"}),Object(o.jsx)("th",{scope:"row",children:"Supprimer le Ticket"})]})}),Object(o.jsx)("tbody",{children:a.map((function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(Mt,{problem:e},e.problem_id)})}))})]})]})})})})},Ft=function e(t){Object(M.a)(this,e),this.date="",this.timezone_type=0,this.timezone="",t&&(this.date=t.date,this.timezone_type=t.timezone_type,this.timezone=t.timezone)},Bt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ft,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;Object(M.a)(this,e),this.problem_id=void 0,this.problem_ref=void 0,this.created_at=void 0,this.updated_at=void 0,this.deleted_at=void 0,this.data=void 0,this.problem_id=t,this.problem_ref=a,this.created_at=n,this.updated_at=r,this.deleted_at=s,this.data=c},Gt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(M.a)(this,e),this.problemData_id=void 0,this.problemData_problemId=void 0,this.problemData_key=void 0,this.problemData_column=void 0,this.problemData_id=t,this.problemData_problemId=a,this.problemData_key=n,this.problemData_column=r},zt=function(e){var t=e.match,a=Object(n.useState)(""),r=Object(i.a)(a,2),s=r[0],c=r[1],l=Object(n.useState)(new Gt),u=Object(i.a)(l,2),d=u[0],m=u[1],j=Object(n.useState)(new Gt),p=Object(i.a)(j,2),f=p[0],O=p[1],x=Object(n.useState)(new Gt),v=Object(i.a)(x,2),g=v[0],_=v[1],N=Object(n.useState)(new Bt),y=Object(i.a)(N,2),k=y[0],S=y[1],D=Object(n.useState)([]),E=Object(i.a)(D,2),w=E[0],T=E[1],L=Object(b.f)();Object(n.useEffect)((function(){function e(){return(e=Object(I.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.getAllSites().then((function(e){return T(e)}));case 2:return e.next=4,yt(parseInt(t.params.id)).then((function(e){return S(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),yt(+t.params.id).then((function(e){S(e),c(e.problem_ref),e.data&&function(e){if(0!==e.length){var t,a=Object(jt.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;"Nom"===n.problemData_key&&m(n),"Description"===n.problemData_key&&_(n),"Site"===n.problemData_key&&O(n)}}catch(r){a.e(r)}finally{a.f()}}else d.problemData_problemId=k.problem_id,m(d),g.problemData_problemId=k.problem_id,_(g),f.problemData_problemId=k.problem_id,O(f),e.push(d),e.push(g),e.push(f)}(e.data)}))}),[t.params.id]);var A=function(e){var t=new Gt;t.problemData_key=e.target.name,t.problemData_column=e.target.value,"name"===t.problemData_key&&m(t),"ref"===e.target.name&&c(e.target.value)},C=function(){var e=Object(I.a)(R.a.mark((function e(a){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=new Bt,r=new Gt,n.problem_id=parseInt(t.params.id),n.problem_ref=s,e.next=7,Et(n).then((function(e){return e}));case 7:if(r.problemData_id=d.problemData_id,-1!==r.problemData_id){e.next=16;break}return r.problemData_key="Nom",r.problemData_column=d.problemData_column,r.problemData_problemId=parseInt(t.params.id),e.next=14,At(r).then((function(e){return e}));case 14:e.next=21;break;case 16:return r.problemData_key="Nom",r.problemData_column=d.problemData_column,r.problemData_problemId=parseInt(t.params.id),e.next=21,It(r).then((function(e){return e}));case 21:if(r.problemData_id=f.problemData_id,-1!==r.problemData_id){e.next=30;break}return r.problemData_key="Site",r.problemData_column=f.problemData_column,r.problemData_problemId=parseInt(t.params.id),e.next=28,At(r).then((function(e){return e}));case 28:e.next=35;break;case 30:return r.problemData_key="Site",r.problemData_column=f.problemData_column,r.problemData_problemId=parseInt(t.params.id),e.next=35,It(r).then((function(e){return e}));case 35:if(r.problemData_id=g.problemData_id,-1!==r.problemData_id){e.next=44;break}return r.problemData_key="Description",r.problemData_column=g.problemData_column,r.problemData_problemId=parseInt(t.params.id),e.next=42,At(r).then((function(e){return e}));case 42:e.next=49;break;case 44:return r.problemData_key="Description",r.problemData_column=g.problemData_column,r.problemData_problemId=parseInt(t.params.id),e.next=49,It(r).then((function(e){return e}));case 49:le.b.success("Ticket mis \xe0 jours avec succ\xe8s\ud83d\udc4d",{}),setTimeout((function(){L.push("/problems")}),5e3);case 51:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"hero-auto",children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)("div",{className:"heroProblemeEnfant",children:Object(o.jsx)("div",{className:"container mt-5 pt-5 justify-content-center d-flex",children:Object(o.jsx)("form",{className:"mt-5 ",onSubmit:function(e){return C(e)},children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col s12 m8",children:Object(o.jsxs)("div",{className:"card hoverable",id:"cardGeneral",children:[Object(o.jsx)("h2",{className:"text-center mb-4",children:" Modifier un Ticket"}),Object(o.jsx)("div",{className:"card-stacked p-0",children:Object(o.jsxs)("div",{className:"card-content",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"name",className:"text-secondary",children:"Nom du Ticket"}),Object(o.jsx)("input",{id:"name",className:"form-control",name:"name",value:d.problemData_column,onChange:function(e){return A(e)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"ref",className:"text-secondary",children:"R\xe9f\xe9rence du Ticket"}),Object(o.jsx)("input",{id:"budget",type:"number",className:"form-control",name:"ref",value:s,onChange:function(e){return A(e)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"firstname",className:"text-secondary",children:"Site associ\xe9s"}),Object(o.jsx)("select",{id:"firstname",name:"Site",value:f.problemData_column,onChange:function(e){return function(e){var t=new Gt;t.problemData_key=e.target.name,t.problemData_column=e.target.value,"Site"===t.problemData_key&&O(t)}(e)},children:w&&w.map((function(e){return Object(o.jsx)("option",{selected:e.site_id===Number(f.problemData_column),value:e.site_id,children:e.site_id})}))})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"desc",className:"text-secondary",children:"Description du Ticket"}),Object(o.jsx)("textarea",{id:"desc",className:"form-control styleArea",name:"Description",value:g.problemData_column,onChange:function(e){return function(e){var t=new Gt;t.problemData_key=e.target.name,t.problemData_column=e.target.value,"Description"===t.problemData_key&&_(t)}(e)}})]}),Object(o.jsx)("div",{className:"card-action center",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-lg btnLogin",children:"Valider"})})]})})]})})})})})}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light orange lighten-1 z-deepth-3",style:{position:"fixed",top:"95px",left:"50px"},to:"/problems",children:Object(o.jsx)("i",{className:"material-icons",children:"navigate_before"})})]})},Ht=function(e){var t=e.match,a=Object(n.useState)(new Gt),r=Object(i.a)(a,2),s=r[0],c=r[1],l=Object(n.useState)(new Gt),u=Object(i.a)(l,2),d=u[0],m=u[1],j=Object(n.useState)(new Gt),b=Object(i.a)(j,2),p=b[0],f=b[1],O=Object(n.useState)(new Bt),x=Object(i.a)(O,2),v=x[0],g=x[1];return Object(n.useEffect)((function(){yt(+t.params.id).then((function(e){g(e),e.data&&function(e){if(0!==e.length){var t,a=Object(jt.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;"Nom"===n.problemData_key&&c(n),"Description"===n.problemData_key&&f(n),"Site"===n.problemData_key&&m(n)}}catch(r){a.e(r)}finally{a.f()}}else s.problemData_problemId=v.problem_id,c(s),p.problemData_problemId=v.problem_id,f(p),d.problemData_problemId=v.problem_id,m(d),e.push(s),e.push(p),e.push(d)}(e.data)}))}),[t.params.id]),console.log(v),Object(o.jsx)("div",{className:"hero",children:Object(o.jsx)("div",{className:"heroProblemeEnfant",children:Object(o.jsxs)("div",{className:"container mt-5 pt-5 justify-content-center d-flex align-items-center h-100",children:[Object(o.jsx)("form",{className:"mt-5 ",children:Object(o.jsxs)("div",{className:"card hoverable",id:"cardGeneral",children:[Object(o.jsx)("h2",{className:"text-center mb-4 mt-2",children:" D\xe9tail du Ticket"}),Object(o.jsx)("div",{className:"card-stacked",children:Object(o.jsxs)("div",{className:"card-content",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"lastname",className:"text-secondary h6",children:"Nom du Ticket "}),Object(o.jsx)("input",{type:"text",className:"form-control",name:"lastname",value:s.problemData_column})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"text-secondary h6",children:"Site associ\xe9"}),Object(o.jsx)("input",{type:"number",className:"form-control",value:d.problemData_column})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"text-secondary h6",children:"R\xe9f\xe9rence du Ticket"}),Object(o.jsx)("input",{type:"number",className:"form-control",value:v.problem_ref})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{className:"text-secondary h6",children:"Description du Ticket"}),Object(o.jsx)("input",{type:"text",className:"form-control",value:p.problemData_column})]})]})})]})}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light orange lighten-1 z-deepth-3",style:{position:"fixed",top:"95px",left:"50px"},to:"/problems",children:Object(o.jsx)("i",{className:"material-icons",children:"navigate_before"})})]})})})},Yt=function e(t){Object(M.a)(this,e),this.material_id=0,this.material_ref="",this.created_at=new Ft,this.updated_at=null,this.deleted_at=null,this.data=null,null!==t&&void 0!==t&&(this.material_id=t.material_id,this.material_ref=t.material_ref,this.created_at=t.created_at,this.updated_at=t.updated_at,this.deleted_at=t.deleted_at,this.data=t.data)},Vt=function e(t){Object(M.a)(this,e),this.materialData_id=0,this.materialData_materialId=0,this.data_key="",this.data_column="",null!==t&&void 0!==t&&(this.materialData_id=t.materialData_id,this.materialData_materialId=t.materialData_materialId,this.data_key=t.data_key,this.data_column=t.data_column)},Jt=(a(122),function(){var e=Object(b.f)(),t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(""),l=Object(i.a)(c,2),u=l[0],d=l[1],m=Object(n.useState)(""),j=Object(i.a)(m,2),p=j[0],f=j[1],O=Object(n.useState)("0"),x=Object(i.a)(O,2),v=x[0],g=x[1],_=!1,N=!1,y=!1;r&&!0===ht.testNameMaterial(r)&&(_=!0),u&&!0===ht.testRefMaterial(u)&&(N=!0),p&&ht.checkNombreMaterial(p),v&&"0"!==v&&(y=!0);var k=function(){var t=Object(I.a)(R.a.mark((function t(a){var n,s,c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),console.log(r),console.log(u),console.log(p),console.log(v),!0!==_||!0!==N||!0!==y){t.next=31;break}return n=-105,(s=new Yt).material_ref=u,t.next=11,qe(s).then((function(e){return n=e.material_id}));case 11:return(c=new Vt).materialData_materialId=n,c.data_key="categorie",c.data_column=v,t.next=17,Xe(c);case 17:return c.materialData_materialId=n,c.data_key="name",c.data_column=r,t.next=22,Xe(c);case 22:return c.materialData_materialId=n,c.data_key="number",c.data_column=p,t.next=27,Xe(c);case 27:le.b.success("Mat\xe9riel cr\xe9e avec succ\xe8s\ud83d\udc4d",{}),setTimeout((function(){e.push("/material")}),5e3),t.next=32;break;case 31:le.b.warn("Le formulaire n'est pas complet !\ud83d\udc4e",{});case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)("div",{className:"heroMaterial",children:Object(o.jsx)("div",{id:"materialFristDiv",children:Object(o.jsx)("div",{className:"container mt-5 p-2 pb-5",children:Object(o.jsx)("div",{className:"mt-5 pt-5 justify-content-center d-flex",children:Object(o.jsxs)("div",{className:"from",style:{background:"white"},children:[Object(o.jsxs)("form",{onSubmit:function(e){return k(e)},children:[Object(o.jsx)("h2",{className:"text-center mb-5 mt-2",children:" Cr\xe9er un Material"}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"nameMaterial",children:"Nom du Material"}),Object(o.jsx)("input",{id:"nameMaterial",className:"form-control",name:"nameMaterial ",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"RefMaterial",children:"R\xe9f\xe9rence du Material"}),Object(o.jsx)("input",{id:"RefMaterial",className:"form-control",name:"refMaterial ",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"NombreMaterial",children:"Nombre du mat\xe9riel"}),Object(o.jsx)("input",{type:"number",id:"NombreMaterial",className:"form-control",name:"NombreMaterial ",value:p,onChange:function(e){return f(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"exampleFormControlSelect1",children:"Cat\xe9gorie"}),Object(o.jsxs)("select",{className:"form-control",id:"categorie",name:"categorie",value:v,onChange:function(e){return function(e){var t=new Vt;t.data_key=e.target.name,t.data_column=e.target.value,"categorie"===t.data_key&&g(t.data_column)}(e)},children:[Object(o.jsx)("option",{value:"0",children:"Veuillez choisir une Cat\xe9gorie"}),nt.getCategoriesArray().map((function(e){return Object(o.jsx)("option",{value:e,selected:Number(v)===e,children:nt.getTextCategory(e)},e)}))]})]}),Object(o.jsx)(Ue.a,{type:"submit",className:"mt-3 btn btn-lg btnLogin",children:"Cr\xe9er"})]}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light orange lighten-1 z-deepth-3",style:{position:"fixed",top:"95px",left:"50px"},to:"/material",children:Object(o.jsx)("i",{className:"material-icons",children:"navigate_before"})})]})})})})}),Object(o.jsx)("div",{})]})}),qt=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(i.a)(s,2),l=c[0],u=c[1],d=Object(n.useState)(""),m=Object(i.a)(d,2),j=m[0],p=m[1],f=Object(n.useState)(""),O=Object(i.a)(f,2),x=O[0],v=O[1],g=Object(n.useState)([]),_=Object(i.a)(g,2),N=_[0],y=_[1],k=Object(b.f)();Object(n.useEffect)((function(){ot.getAllSites().then((function(e){return y(e)}))}),[]);var S=!1,D=!1,E=!1,w=!1;a&&!0===ht.testProblemName(a)&&(S=!0),l&&(E=!0),j&&0!==N.filter((function(e){return e.site_id===+j})).length&&(w=!0),x&&!0===ht.testTextLength(x)&&(D=!0);var T=function(){var e=Object(I.a)(R.a.mark((function e(t){var n,r,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!0!==S||!0!==D||!0!==E||!0!==w){e.next=29;break}return n=new Bt,r=new Gt,n.problem_ref=l,s=new Bt,e.next=9,Tt(n).then((function(e){return s=e}));case 9:return console.log(s),r.problemData_key="Nom",r.problemData_column=a,r.problemData_problemId=s.problem_id,e.next=15,At(r).then((function(e){return e}));case 15:return r.problemData_key="Site",r.problemData_column=j,r.problemData_problemId=s.problem_id,e.next=20,At(r).then((function(e){return e}));case 20:return r.problemData_key="Description",r.problemData_column=x,r.problemData_problemId=s.problem_id,e.next=25,At(r).then((function(e){return e}));case 25:le.b.success("Ticket cr\xe9e avec succ\xe8s\ud83d\udc4d",{}),setTimeout((function(){k.push("/problems")}),5e3),e.next=30;break;case 29:le.b.warn("Le formulaire n'est pas complet !\ud83d\udc4e",{});case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"hero-auto",children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)("div",{className:"heroProblemeEnfant",children:Object(o.jsxs)("div",{className:"container mt-5 pt-5 justify-content-center d-flex align-items-center h-100",children:[Object(o.jsx)("form",{className:"mt-5 ",onSubmit:function(e){return T(e)},children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col s12 m8",children:Object(o.jsxs)("div",{className:"card hoverable",id:"cardGeneral",children:[Object(o.jsx)("h2",{className:"text-center mb-5",children:" Cr\xe9e un Ticket"}),Object(o.jsx)("div",{className:"card-stacked",children:Object(o.jsxs)("div",{className:"card-content p-0",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"place",className:"text-secondary h6",children:"Nom du Ticket"}),Object(o.jsx)("input",{id:"place",className:"form-control",name:"name",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"budget",className:"text-secondary h6 mt-3",children:"R\xe9f\xe9rence du Ticket"}),Object(o.jsx)("input",{id:"budget",type:"number",className:"form-control",name:"ref",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"firstname",className:"text-secondary h6 mt-3",children:"Site associ\xe9s"}),Object(o.jsxs)("select",{id:"firstname",value:j,onChange:function(e){return p(e.target.value)},children:[Object(o.jsx)("option",{value:"0",children:"Veuillez choisir un site "}),N&&N.map((function(e){return Object(o.jsx)("option",{value:e.site_id,children:e.site_id})}))]})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"desc",className:"text-secondary h6 mt-3",children:"Description du Ticket"}),Object(o.jsx)("textarea",{id:"desc",className:"form-control styleArea",name:"desc",value:x,onChange:function(e){return v(e.target.value)}})]}),Object(o.jsx)("div",{className:"card-action center",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-lg btnLogin",children:"Valider"})})]})})]})})})}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light orange lighten-1 z-deepth-3",style:{position:"fixed",top:"95px",left:"50px"},to:"/problems",children:Object(o.jsx)("i",{className:"material-icons",children:"navigate_before"})})]})})]})},Kt=function(e){var t=e.match,a=Object(b.f)(),r=Object(n.useState)(new bt),s=Object(i.a)(r,2),c=s[0],u=s[1],d=Object(n.useState)(new bt),m=Object(i.a)(d,2),j=m[0],p=m[1],f=Object(n.useState)(new bt),O=Object(i.a)(f,2),x=O[0],v=O[1],g=Object(n.useState)(),_=Object(i.a)(g,2),N=_[0],y=_[1];Object(n.useEffect)((function(){ot.getSite(+t.params.id).then((function(e){var t=new mt(e.site);if(null!==t.data&&void 0!==t.data){var a=e.users;if(0!==a.length){var n,r=Object(jt.a)(a);try{for(r.s();!(n=r.n()).done;)n.value}catch(l){r.e(l)}finally{r.f()}}var s,c=Object(jt.a)(t.data);try{for(c.s();!(s=c.n()).done;){var i=s.value;switch(i.siteData_key){case"address":u(new bt(i));break;case"customer":p(new bt(i));break;case"manager":v(new bt(i))}}}catch(l){c.e(l)}finally{c.f()}}y(t)}))}),[t.params.id]);var k=Object(n.useState)([]),S=Object(i.a)(k,2),D=S[0],E=S[1];Object(n.useEffect)((function(){V(Re.CUSTOMER).then((function(e){return E(e)}))}),[]);var w=Object(n.useState)([]),T=Object(i.a)(w,2),A=T[0],C=T[1];Object(n.useEffect)((function(){V(Re.MANAGER).then((function(e){return C(e)}))}),[]);var M=Object(n.useState)({numberSite:{value:0},dateStart:{value:""},dateEnd:{value:""}}),P=Object(i.a)(M,2),F=P[0],B=P[1];if(void 0!==N){var G=function(e){var t=e.target.name,a=e.target.value;if("numberSite"===t&&(N.site_number_site=parseInt(a)),"dateStart"===t){var n=U()(a,"YYYY/MM/DD");N.site_date_start=n.unix()}if("dateEnd"===t){var r=U()(a,"YYYY/MM/DD");N.site_date_end=r.unix()}var s=Object(L.a)({},t,{value:a});B(Object(l.a)(Object(l.a)({},F),s))},z=function(e){var t=new bt;if(t.siteData_key=e.target.name,t.siteData_column=e.target.value,N.data&&0!==N.data.length)N.data.map((function(e){if(e.siteData_key===t.siteData_key)switch(t.siteData_key){case"customer":e.siteData_column=t.siteData_column,p(e),H(j);break;case"manager":e.siteData_column=t.siteData_column,v(e),H(x)}else switch(t.siteData_key){case"customer":p(t),H(t);break;case"manager":v(t),H(t)}}));else switch(t.siteData_key){case"customer":j.siteData_key=t.siteData_key,j.siteData_column=t.siteData_column,p(t),H(t);break;case"manager":x.siteData_key=t.siteData_key,x.siteData_column=t.siteData_column,v(t),H(t)}},H=function(e){if(N.data)if(0!==N.data.length){var t=N.data.filter((function(t){return e.siteData_key===t.siteData_key}));if(0!==t.length){var a,n=Object(jt.a)(N.data);try{for(n.s();!(a=n.n()).done;){var r=a.value;r.siteData_key===e.siteData_key&&(r.siteData_column=e.siteData_column)}}catch(s){n.e(s)}finally{n.f()}}else N.data.push(e)}else N.data.push(e)},Y=function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,J(N).then();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(I.a)(R.a.mark((function e(t){var n,r,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.updateSite(t).then();case 2:if(!t.data){e.next=29;break}n=Object(jt.a)(t.data),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=18;break}if(0!==(s=r.value).siteData_id){e.next=14;break}return s.siteData_siteId=t.site_id,e.next=12,K(s);case 12:e.next=16;break;case 14:return e.next=16,q(s);case 16:e.next=6;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:le.b.success("Chantier modifier avec succ\xe8s\ud83d\udc4d",{}),e.next=30;break;case 29:le.b.warn("Erreur lors de la modification !",{});case 30:window.setTimeout((function(){a.push("/sites")}),3e3);case 31:case"end":return e.stop()}}),e,null,[[4,20,23,26]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.updateData(t).then();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.postSiteData(t).then();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e){if(null!==e)return U.a.unix(e).format("YYYY-MM-DD")};return Object(o.jsxs)("div",{className:"hero-auto",children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)("div",{className:"heroProblemeEnfant",children:Object(o.jsx)("div",{className:"mt-5 pt-5 container-fluid",children:Object(o.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(o.jsx)("form",{className:"mt-5",onSubmit:function(e){return Y(e)},children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col m8",children:Object(o.jsxs)("div",{className:"card hoverable",id:"cardGeneral",children:[Object(o.jsx)("h2",{className:"text-center mb-5",children:" Modifier un Chantier"}),Object(o.jsxs)("div",{className:"card-stacked",children:[Object(o.jsxs)("div",{className:"card-content p-0",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"dateStart",children:"Date de d\xe9but"}),Object(o.jsx)("input",{id:"dateStart",value:W(N.site_date_start),name:"dateStart",className:"form-control",type:"date",onChange:function(e){return G(e)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"dateEnd",children:"Date de fin"}),Object(o.jsx)("input",{id:"dateEnd",value:W(N.site_date_end),type:"date",name:"dateEnd",className:"form-control",onChange:function(e){return G(e)}})]}),N.data?Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"address",children:"Adresse du chantier"}),Object(o.jsx)("input",{id:"address",className:"form-control",type:"text",name:"address",value:c?c.siteData_column:"",onChange:function(e){return function(e){var t=new bt;t.siteData_key=e.target.name,t.siteData_column=e.target.value,u(t)}(e)},onBlur:function(e){c&&"address"===c.siteData_key&&H(c)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"customer",children:"Client"}),Object(o.jsxs)("select",{id:"customer",name:"customer",style:{display:"block"},onBlur:function(e){return z(e)},children:[Object(o.jsx)("option",{disabled:!0,selected:!0,children:"Client"}),D.map((function(e){return Object(o.jsx)("option",{value:e.id,selected:j&&parseInt(j.siteData_column)===e.id,children:e.login},e.id)}))]})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"manager",children:"Chef de chantier"}),Object(o.jsxs)("select",{id:"manager",name:"manager",style:{display:"block"},onBlur:function(e){return z(e)},children:[Object(o.jsx)("option",{disabled:!0,selected:!0,children:" Chef de chantier"}),A.map((function(e){return Object(o.jsx)("option",{value:e.id,selected:x&&parseInt(x.siteData_column)===e.id,children:e.login},e.id)}))]})]})]}):Object(o.jsx)("p",{children:"No data"})]}),Object(o.jsx)("div",{className:"mt-5",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-lg btnLogin",children:"Valider"})})]})]})})})}),Object(o.jsx)(h.a,{className:"btn-floating btn-large waves-effect waves-light orange lighten-1 z-deepth-3",style:{position:"fixed",top:"95px",left:"50px"},to:"/sites",children:Object(o.jsx)("i",{className:"material-icons",children:"navigate_before"})})]})})})]})}return Object(o.jsx)("h1",{children:"Error"})},Wt=function e(t){Object(M.a)(this,e),this.id=0,this.login="",this.password="",this.role_id=0,this.created_at=new Ft,this.updated_at=null,this.deleted_at=null,this.data=null,null!==t&&void 0!==t&&(this.id=t.id,this.login=t.login,this.password=t.password,this.role_id=t.role_id,this.created_at=t.created_at,this.updated_at=t.updated_at,this.deleted_at=t.deleted_at,this.data=t.data)},$t=function e(t){Object(M.a)(this,e),this.userData_id=0,this.userData_userId=0,this.userData_key="",this.userData_column="",null!==t&&void 0!==t&&(this.userData_id=t.userData_id,this.userData_userId=t.userData_userId,this.userData_key=t.userData_key,this.userData_column=t.userData_column)};!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.ELECTRICIAN=1]="ELECTRICIAN",e[e.PLUMBER=2]="PLUMBER",e[e.ROOFER=3]="ROOFER",e[e.MASON=4]="MASON",e[e.CARPENTER=5]="CARPENTER"}(Ut||(Ut={}));var Zt=function(){function e(){Object(M.a)(this,e)}return Object(Fe.a)(e,null,[{key:"getJobArray",value:function(){return[Ut.ELECTRICIAN,Ut.PLUMBER,Ut.ROOFER,Ut.MASON,Ut.CARPENTER]}},{key:"getTextJob",value:function(e){switch(e){case Ut.UNDEFINED:return"Ind\xe9fini";case Ut.ELECTRICIAN:return"Electricien";case Ut.CARPENTER:return"Menuisier";case Ut.PLUMBER:return"Plombier";case Ut.MASON:return"Ma\xe7on";case Ut.ROOFER:return"Couvreur"}}}]),e}(),Qt=function(){var e=Object(b.f)(),t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(""),l=Object(i.a)(c,2),u=l[0],d=l[1],m=Object(n.useState)(""),j=Object(i.a)(m,2),p=j[0],f=j[1],O=Object(n.useState)(Re.UNDEFINED),x=Object(i.a)(O,2),v=x[0],g=x[1],_=Object(n.useState)(""),N=Object(i.a)(_,2),y=N[0],k=N[1],S=Object(n.useState)(!1),D=Object(i.a)(S,2),E=D[0],w=D[1],T=Object(n.useState)(!1),L=Object(i.a)(T,2),A=L[0],C=L[1],U=Object(n.useState)(!1),M=Object(i.a)(U,2),P=M[0],F=M[1],B=Object(n.useState)(!1),G=Object(i.a)(B,2),z=G[0],H=G[1],Y=Object(n.useState)(new $t),V=Object(i.a)(Y,2),J=V[0],q=V[1],K=Object(n.useState)(!1),$=Object(i.a)(K,2),Z=$[0],Q=$[1],X=Object(n.useState)(!1),ee=Object(i.a)(X,2),te=ee[0],ae=ee[1],re=Object(n.useState)(new $t),se=Object(i.a)(re,2),ce=se[0],ie=se[1],oe=Object(n.useState)(new $t),ue=Object(i.a)(oe,2),de=ue[0],me=ue[1],je=function(e){var t=new $t;switch(t.userData_key=e.target.name,t.userData_column=e.target.value,t.userData_key){case"email":ie(t),ht.isValideEmail(t.userData_column)?Q(!1):Q(!0);break;case"phoneNumber":me(t),ht.isValideTel(t.userData_column)?ae(!1):ae(!0)}},be=function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ht.testLogin(p)?H(!1):H(!0),ht.testString(u)?F(!1):F(!0),ht.testString(r)?C(!1):C(!0),ht.testPassword(y)?w(!1):w(!0),v===Re.UNDEFINED&&(J.userData_key="job",J.userData_column=Ut.UNDEFINED.toString(),q(J)),ht.isValideEmail(ce.userData_column)?Q(!1):Q(!0),ht.isValideTel(de.userData_column)?ae(!1):ae(!0),P&&A&&z&&E&&Z&&te){e.next=13;break}return e.next=11,he().then();case 11:e.next=14;break;case 13:le.b.warn("Le formulaire n'est pas valide !\ud83d\udc4e",{});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var t=Object(I.a)(R.a.mark((function t(){var a,n,s;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=new Wt).login=p,a.role_id=v,a.password=y,(n=new $t).userData_key="Nom",n.userData_column=r,(s=new $t).userData_key="Pr\xe9nom",s.userData_column=u,W(a).then(function(){var t=Object(I.a)(R.a.mark((function t(a){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=20;break}return n.userData_userId=a.id,t.next=4,ne(n).then();case 4:return s.userData_userId=a.id,t.next=7,ne(s).then();case 7:return J.userData_userId=a.id,q(J),t.next=11,ne(J).then();case 11:return de.userData_userId=a.id,me(de),t.next=15,ne(de);case 15:return ce.userData_userId=a.id,ie(ce),t.next=19,ne(ce).then((function(e){return le.b.success("Client cr\xe9e avec succ\xe8s\ud83d\udc4d",{})}));case 19:window.setTimeout((function(){e.push("/profile")}),3e3);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"hero-auto",children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)("div",{id:"heroProfileEnfant",children:Object(o.jsx)("div",{className:"container mt-5 pt-5 d-flex justify-content-center",children:Object(o.jsx)("form",{className:"mt-5",onSubmit:function(e){return be(e)},children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col m8",children:Object(o.jsxs)("div",{className:"card hoverable",id:"cardGeneral",children:[Object(o.jsx)("h2",{className:"text-center mb-5",children:" Cr\xe9ation Utilisateur"}),Object(o.jsx)("div",{className:"card-stacked",children:Object(o.jsxs)("div",{className:"card-content",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"lastname",className:"text-dark ",children:"Nom "}),Object(o.jsx)("input",{id:"lastname",type:"text",className:"form-control",name:"lastname",value:r,onChange:function(e){return s(e.target.value)}}),A?Object(o.jsx)("div",{className:"red accent-1",children:"Nom invalide."}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"firstname",className:"text-dark ",children:"Pr\xe9nom"}),Object(o.jsx)("input",{id:"firstname",type:"text",className:"form-control",name:"firstname",value:u,onChange:function(e){return d(e.target.value)}}),P?Object(o.jsx)("div",{className:"red accent-1",children:"Pr\xe9nom invalide."}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"login",className:"text-dark ",children:"Login"}),Object(o.jsx)("input",{id:"login",type:"text",className:"form-control",name:"login",value:p,onChange:function(e){return f(e.target.value)}}),z?Object(o.jsx)("div",{className:"red accent-1",children:"Login invalide."}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"password",className:"text-dark",children:"Mot de passe"}),Object(o.jsx)("input",{id:"password",type:"password",className:"form-control",name:"ref",value:y,onChange:function(e){return k(e.target.value)}}),E?Object(o.jsx)("div",{className:"red accent-1",children:"Mot de passe invalide."}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"userRole",className:"text-dark ",children:"R\xf4le"}),Object(o.jsxs)("select",{id:"userRole",name:"userRole",onChange:function(e){return g(Number(e.target.value))},children:[Object(o.jsx)("option",{disabled:!0,value:"0",selected:!0,children:"S\xe9lectionner le r\xf4le"}),Ge.getRoleArray().map((function(e){return Object(o.jsx)("option",{value:e,children:Ge.getStringEnum(e)},e)}))]})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"email",className:"text-dark",children:"Email"}),Object(o.jsx)("input",{id:"email",type:"text",className:"form-control",name:"email",value:ce.userData_column,onChange:function(e){return je(e)}}),Z?Object(o.jsx)("div",{className:"red accent-1",children:"Adresse Email invalide. (example@example.com)"}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"phoneNumber",className:"text-dark ",children:"N\xb0T\xe9l\xe9phone"}),Object(o.jsx)("input",{id:"phoneNumber",type:"text",className:"form-control",name:"phoneNumber",value:de.userData_column,onChange:function(e){return je(e)}}),te?Object(o.jsx)("div",{className:"red accent-1",children:"N\xb0T\xe9l\xe9phone invalide."}):""]}),v===Re.EMPLOYEE?Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"job",className:"text-dark ",children:"Emploi"}),Object(o.jsxs)("select",{id:"job",name:"job",className:"form-control",onChange:function(e){return function(e){var t=new $t;t.userData_key=e.target.name,t.userData_column=e.target.value,q(t)}(e)},children:[Object(o.jsx)("option",{disabled:!0,value:"0",children:"S\xe9lectionner un emploi"}),Zt.getJobArray().map((function(e){return Object(o.jsx)("option",{value:e,children:Zt.getTextJob(e)},e)}))]})]}):"",Object(o.jsx)("div",{className:"card-action center",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-lg btnLogin",children:"Valider"})})]})})]})})})})})}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light orange lighten-1 z-deepth-3",style:{position:"fixed",top:"95px",left:"50px"},to:"/profile",children:Object(o.jsx)("i",{className:"material-icons",children:"navigate_before"})})]})},Xt=function(e){var t=e.match,a=Object(b.f)(),r=Object(n.useState)(new $t),s=Object(i.a)(r,2),c=s[0],u=s[1],d=Object(n.useState)(new $t),m=Object(i.a)(d,2),j=m[0],p=m[1],f=Object(n.useState)(new $t),O=Object(i.a)(f,2),x=O[0],v=O[1],g=Object(n.useState)(new $t),_=Object(i.a)(g,2),N=_[0],y=_[1],k=Object(n.useState)(new $t),S=Object(i.a)(k,2),D=S[0],E=S[1],w=Object(n.useState)(!1),T=Object(i.a)(w,2),A=T[0],C=T[1],U=Object(n.useState)(!1),M=Object(i.a)(U,2),P=M[0],F=M[1],B=Object(n.useState)(!1),G=Object(i.a)(B,2),z=G[0],Y=(G[1],Object(n.useState)(!1)),V=Object(i.a)(Y,2),J=V[0],q=V[1],K=Object(n.useState)(!1),W=Object(i.a)(K,2),$=W[0],Z=W[1],Q=Object(n.useState)(!1),ee=Object(i.a)(Q,2),te=(ee[0],ee[1],Object(n.useState)(new Wt)),ae=Object(i.a)(te,2),re=ae[0],ce=ae[1];Object(n.useEffect)((function(){var e=function(e){if(5===e.length){console.log("merde");var t,a=Object(jt.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;switch(n.userData_key){case"Nom":u(n);break;case"Pr\xe9nom":p(n);break;case"job":y(n);break;case"phoneNumber":E(n);break;case"email":v(n)}}}catch(r){a.e(r)}finally{a.f()}}else console.log("coucou"),x.userData_userId=re.id,x.userData_key="email",v(x),N.userData_userId=re.id,N.userData_key="job",y(N),D.userData_userId=re.id,D.userData_key="phoneNumber",E(D),e.push(x),e.push(N),e.push(D),console.log(e)};H(+t.params.id).then((function(t){ce(t),t.data&&e(t.data)}))}),[t.params.id]);var ie=Object(n.useState)({login:{value:""},role:{value:0}}),oe=Object(i.a)(ie,2),ue=oe[0],de=oe[1],me=function(e){var t=new $t;switch(t.userData_key=e.target.name,t.userData_column=e.target.value,t.userData_key){case"Nom":u(t),re.data.map((function(e){return"Nom"===e.userData_key?e.userData_column=t.userData_column:""}));break;case"Pr\xe9nom":p(t),re.data.map((function(e){return"Pr\xe9nom"===e.userData_key?e.userData_column=t.userData_column:""}));break;case"phoneNumber":E(t),re.data.map((function(e){return"phoneNumber"===e.userData_key?e.userData_column=t.userData_column:""}));break;case"email":v(t),re.data.map((function(e){return"email"===e.userData_key?e.userData_column=t.userData_column:""}))}},je=function(){var e=!1;if(re.data){var t,a=Object(jt.a)(re.data);try{for(a.s();!(t=a.n()).done;){var n=t.value;switch(n.userData_key){case"Nom":ht.testString(n.userData_column)?C(!1):C(!0);break;case"Pr\xe9nom":ht.testString(n.userData_column)?F(!1):F(!0);break;case"email":ht.isValideEmail(n.userData_column)?q(!1):q(!0);break;case"phoneNumber":ht.isValideTel(n.userData_column)?Z(!1):Z(!0)}}}catch(r){a.e(r)}finally{a.f()}}return z&&(e=z),P&&(e=P),A&&(e=A),J&&(e=J),$&&(e=$),!e},be=function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),je()&&he(re).then();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(I.a)(R.a.mark((function e(t){var n,r,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!je()){e.next=41;break}return e.next=3,X(t).then();case 3:if(!t.data){e.next=40;break}n=Object(jt.a)(t.data),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=31;break}s=r.value,e.t0=s.userData_key,e.next="Nom"===e.t0?12:"Pr\xe9nom"===e.t0?14:"email"===e.t0?16:"job"===e.t0?18:"phoneNumber"===e.t0?20:22;break;case 12:return s.userData_column=c.userData_column,e.abrupt("break",22);case 14:return s.userData_column=j.userData_column,e.abrupt("break",22);case 16:return s.userData_column=x.userData_column,e.abrupt("break",22);case 18:return s.userData_column=N.userData_column,e.abrupt("break",22);case 20:return s.userData_column=D.userData_column,e.abrupt("break",22);case 22:if(0===s.userData_id){e.next=27;break}return e.next=25,se(s).then();case 25:e.next=29;break;case 27:return e.next=29,ne(s).then();case 29:e.next=7;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(5),n.e(e.t1);case 36:return e.prev=36,n.f(),e.finish(36);case 39:le.b.success("Profil modifier avec succ\xe8s\ud83d\udc4d",{});case 40:window.setTimeout((function(){a.push("/profile")}),3e3);case 41:case"end":return e.stop()}}),e,null,[[5,33,36,39]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"hero-auto",children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"dark-toast",theme:"dark"}),Object(o.jsx)("div",{id:"heroProfileEnfant",children:Object(o.jsxs)("div",{className:"container mt-5 pt-5 justify-content-center d-flex align-items-center h-100",children:[Object(o.jsx)("form",{className:"mt-5",onSubmit:function(e){return be(e)},children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col m8",children:Object(o.jsxs)("div",{className:"card hoverable",id:"cardGeneral",children:[Object(o.jsx)("h2",{className:"text-center mb-5 mt-2",children:" Modifier un utilisateur"}),Object(o.jsx)("div",{className:"card-stacked",children:Object(o.jsxs)("div",{className:"card-content p-0",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"lastname",className:"text-secondary",children:"Nom "}),Object(o.jsx)("input",{id:"lastname",type:"text",className:"form-control",name:"Nom",value:c.userData_column,onChange:function(e){return me(e)}}),A?Object(o.jsx)("div",{className:"red accent-1",children:"Nom invalide."}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"firstname",className:"text-secondary",children:"Pr\xe9nom"}),Object(o.jsx)("input",{id:"firstname",type:"text",className:"form-control",name:"Pr\xe9nom",value:j.userData_column,onChange:function(e){return me(e)}}),P?Object(o.jsx)("div",{className:"red accent-1",children:"Pr\xe9nom invalide."}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"login",className:"text-secondary",children:"Login"}),Object(o.jsx)("input",{type:"text",className:"form-control",name:"login",value:re.login,onChange:function(e){return function(e){var t=e.target.name,a=e.target.value;"login"===t&&(re.login=a);var n=Object(L.a)({},t,{value:a});de(Object(l.a)(Object(l.a)({},ue),n))}(e)}}),z?Object(o.jsx)("div",{className:"red accent-1",children:"Login invalide."}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"email",className:"text-dark",children:"Email"}),Object(o.jsx)("input",{id:"email",type:"text",className:"form-control",name:"email",value:x.userData_column,onChange:function(e){return me(e)}}),J?Object(o.jsx)("div",{className:"red accent-1",children:"Adresse Email invalide. (example@example.com)"}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"phoneNumber",className:"text-dark ",children:"N\xb0T\xe9l\xe9phone"}),Object(o.jsx)("input",{id:"phoneNumber",type:"text",className:"form-control",name:"phoneNumber",value:D.userData_column,onChange:function(e){return me(e)}}),$?Object(o.jsx)("div",{className:"red accent-1",children:"N\xb0T\xe9l\xe9phone invalide."}):""]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"role",className:"text-secondary",children:"R\xf4le"}),Object(o.jsx)("select",{id:"role",value:re.role_id,name:"role",onChange:function(e){return function(e){var t=e.target.name,a=e.target.value;"role"===t&&(re.role_id=+a);var n=Object(L.a)({},t,{value:a});de(Object(l.a)(Object(l.a)({},ue),n))}(e)},children:Ge.getRoleArray().map((function(e){return Object(o.jsx)("option",{value:e,selected:re.role_id===e,children:Ge.getStringEnum(e)},e)}))})]}),re.role_id===Re.EMPLOYEE?Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"job",className:"text-dark ",children:"Emploi"}),Object(o.jsxs)("select",{id:"job",name:"job",className:"form-control",value:N.userData_column,onChange:function(e){return function(e){var t=new $t;t.userData_key=e.target.name,t.userData_column=e.target.value,"job"===t.userData_key&&(y(t),re.data.map((function(e){return"job"===e.userData_key?e.userData_column=t.userData_column:""})))}(e)},children:[Object(o.jsx)("option",{value:"0",children:"S\xe9lectionner un emploi"}),Zt.getJobArray().map((function(e){return Object(o.jsx)("option",{value:e,selected:e===Number(N.userData_column),children:Zt.getTextJob(e)},e)}))]})]}):"",Object(o.jsx)("div",{className:"card-action center",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-lg btnLogin",children:"Valider"})})]})})]})})})}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light orange lighten-1 z-deepth-3",style:{position:"fixed",top:"95px",left:"50px"},to:"/profile",children:Object(o.jsx)("i",{className:"material-icons",children:"navigate_before"})})]})})]})},ea=function(e){var t=e.match,a=Object(b.f)(),r=Object(n.useState)(new Yt),s=Object(i.a)(r,2),c=s[0],u=s[1],d=Object(n.useState)(new Vt),m=Object(i.a)(d,2),j=m[0],p=m[1],f=Object(n.useState)(new Vt),O=Object(i.a)(f,2),x=O[0],v=O[1],g=Object(n.useState)(new Vt),_=Object(i.a)(g,2),N=_[0],y=_[1],k=Object(n.useState)({ref:{value:""}}),S=Object(i.a)(k,2),D=S[0],E=S[1];Object(n.useEffect)((function(){(function(e){return Je.apply(this,arguments)})(+t.params.id).then((function(e){u(e),e.data&&function(e){if(0!==e.length){var t,a=Object(jt.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;"name"===n.data_key&&p(n),"number"===n.data_key&&v(n),"categorie"===n.data_key&&y(n)}}catch(r){a.e(r)}finally{a.f()}}else j.materialData_materialId=c.material_id,p(j),x.materialData_materialId=c.material_id,v(x),N.materialData_materialId=c.material_id,y(N),e.push(j),e.push(x),e.push(N)}(e.data)}))}),[t.params.id]);var w=function(e){var t=new Vt;switch(t.data_key=e.target.name,t.data_column=e.target.value,t.data_key){case"name":p(t);break;case"number":v(t)}},T=function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ze(c).then((function(e){if(0!==e.material_id){if(c.data){var t,n=Object(jt.a)(c.data);try{for(n.s();!(t=n.n()).done;){var r=t.value;switch(r.data_key){case"name":r.data_column=j.data_column;break;case"number":r.data_column=x.data_column;break;case"categorie":r.data_column=N.data_column}0!==r.materialData_id?tt(r).then():Xe(r).then()}}catch(s){n.e(s)}finally{n.f()}}le.b.success("Mat\xe9riel mis \xe0 jour avec succ\xe8s\ud83d\udc4d",{}),setTimeout((function(){a.push("/material")}),5e3)}e.error&&le.b.warning("Echec modification",{})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(le.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(o.jsx)("div",{className:"heroMaterial",children:Object(o.jsx)("div",{id:"materialFristDiv",children:Object(o.jsx)("div",{className:"container mt-5 p-2",children:Object(o.jsx)("div",{className:"mt-5 pt-5 mb-3 justify-content-center d-flex",children:Object(o.jsxs)("div",{className:"from",style:{background:"white"},children:[Object(o.jsxs)("form",{onSubmit:function(e){return T(e)},children:[Object(o.jsx)("h2",{className:"mb-5",children:"Modifier le mat\xe9riel"}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"name",children:"Nom du Material"}),Object(o.jsx)("input",{id:"name",className:"form-control",name:"name",value:j.data_column,onChange:function(e){return w(e)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"ref",children:"R\xe9f\xe9rence du Material"}),Object(o.jsx)("input",{id:"ref",className:"form-control",name:"ref",value:c.material_ref,onChange:function(e){return function(e){var t=e.target.name,a=e.target.value;"ref"===t&&(c.material_ref=a);var n=Object(L.a)({},t,{value:a});E(Object(l.a)(Object(l.a)({},D),n))}(e)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"number",children:"Nombre du mat\xe9riel"}),Object(o.jsx)("input",{type:"number",id:"number",className:"form-control",name:"number",value:x.data_column,onChange:function(e){return w(e)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"categorie",children:"Cat\xe9gorie"}),Object(o.jsxs)("select",{className:"form-control",id:"categorie",name:"categorie",value:N.data_column,onChange:function(e){return function(e){var t=new Vt;t.data_key=e.target.name,t.data_column=e.target.value,"categorie"===t.data_key&&y(t)}(e)},children:[Object(o.jsx)("option",{value:"0",children:"Veuillez choisir une Cat\xe9gorie"}),nt.getCategoriesArray().map((function(e){return Object(o.jsx)("option",{value:e,selected:Number(N.data_column)===e,children:nt.getTextCategory(e)},e)}))]})]}),Object(o.jsx)(Ue.a,{variant:"",type:"submit",className:"mt-3 btn btn-lg btnLogin",children:"Modifier"})]}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light orange lighten-1 z-deepth-3",style:{position:"fixed",top:"95px",left:"50px"},to:"/material",children:Object(o.jsx)("i",{className:"material-icons",children:"navigate_before"})})]})})})})})]})},ta=function(){var e,t=Object(b.f)(),a=Object(n.useState)(""),r=Object(i.a)(a,2),s=r[0],c=r[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),m=d[0],j=d[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),O=f[0],x=f[1],v=Object(n.useState)([]),g=Object(i.a)(v,2),_=g[0],N=g[1],y=Object(n.useState)([]),k=Object(i.a)(y,2),S=k[0],D=k[1],E=Object(n.useState)(""),w=Object(i.a)(E,2),T=w[0],A=w[1],C=Object(n.useState)({taskTitle:{value:null},dateStart:{value:null},dateEnd:{value:null},heureStart:{value:null},heureEnd:{value:null},details:{value:null},site:{value:null},client:{value:null}}),U=Object(i.a)(C,2),M=U[0],P=U[1];Object(n.useEffect)((function(){function e(){return e=Object(I.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.getAllSites().then((function(e){N(e)}));case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}function t(){return t=Object(I.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q().then((function(e){D(e)}));case 2:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]);var F=function(e){var t=e.target.name,a=e.target.value,n=Object(L.a)({},t,{value:a});P(Object(l.a)(Object(l.a)({},M),n))},B=function(e){var t=e.target.name,a=e.target.value,n=Object(L.a)({},t,{value:a});"client"===t&&A(e.target.selectedOptions[0].text),P(Object(l.a)(Object(l.a)({},M),n))},G=function(){var e=Object(I.a)(R.a.mark((function e(a){var n,r,s,i,l,o,u,d,m,b,h,p,f;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(""),c(""),x(""),a.preventDefault(),n=new Date,r=n.getFullYear(),s=n.getMonth(),i=n.getDate(),l=n.getHours(),o=n.getMinutes(),u=r+"-"+(s+1)+"-"+i+" "+l+":"+o+":00",d=M.heureStart.value+":00",m=M.heureEnd.value+":00",b=M.dateStart.value+" "+d,h=M.dateEnd.value+" "+m,p={task_title:M.taskTitle.value,task_dateStart:b,task_dateEnd:h,user_id:localStorage.getItem("user_id"),created_at:u,updated_at:u},null==M.taskTitle.value||null==M.heureStart.value||null==M.heureEnd.value||null==M.dateStart.value||null==M.dateEnd.value){e.next=32;break}if(j(""),!(b<=h)){e.next=29;break}return c(""),e.next=22,Ne(p);case 22:f=e.sent,null!==M.details.value&&De({taskData_taskId:f,taskData_key:"Description",taskData_column:M.details.value}),null!==M.site.value&&De({taskData_taskId:f,taskData_key:"site_id",taskData_column:M.site.value}),null!==M.client.value&&(De({taskData_taskId:f,taskData_key:"user_id",taskData_column:M.client.value}),De({taskData_taskId:f,taskData_key:"nameUser",taskData_column:T})),t.push("/planning"),e.next=30;break;case 29:c("Date non valide");case 30:e.next=35;break;case 32:null!==M.dateStart.value&&null!==M.dateEnd.value||c("Date non valide"),null!==M.heureEnd.value&&null!==M.heureStart.value||j("Heure non valide"),null===M.taskTitle.value&&x("Titre manquant");case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"hero-auto",children:Object(o.jsx)("div",{className:"heroProblemeEnfant",children:Object(o.jsx)("div",{className:"",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"mt-5",children:Object(o.jsxs)("form",{className:"mt-5 pt-5",onSubmit:function(e){return G(e)},children:[Object(o.jsx)("h2",{className:"text-center text-light mb-4 mt-5",children:" Ajouter une tache"}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col m8",children:Object(o.jsx)("div",{className:"card hoverable",id:"cardGeneral",children:Object(o.jsx)("div",{className:"card-stacked",children:Object(o.jsxs)("div",{className:"card-content p-0",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"taskTitle",children:"Titre de la tache"}),Object(o.jsx)("input",{id:"taskTitle",className:"form-control",name:"taskTitle",type:"text",onChange:function(e){return F(e)}}),Object(o.jsx)("div",{className:"red accent-1",children:O})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"dateStart",children:"Date de d\xe9but de la tache"}),Object(o.jsx)("input",{id:"dateStart",className:"form-control",name:"dateStart",type:"date",onChange:function(e){return F(e)}}),Object(o.jsx)("div",{className:"red accent-1",children:s})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"heureStart",children:"Heure de d\xe9but de la tache"}),Object(o.jsx)("input",{id:"heureStart",className:"form-control",placeholder:"10:00",name:"heureStart",min:"00:00",max:"23:59",onClick:function(e){return e.target.value=""},type:"time",onChange:function(e){return F(e)}}),Object(o.jsx)("div",{className:"red accent-1",children:m})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"dateEnd",children:"Date de fin de la tache"}),Object(o.jsx)("input",{id:"dateEnd",className:"form-control",name:"dateEnd",type:"date",onChange:function(e){return F(e)}}),Object(o.jsx)("div",{className:"red accent-1",children:s})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"heureEnd",children:"Heure de fin de la tache"}),Object(o.jsx)("input",{id:"heureEnd",className:"form-control",placeholder:"10:00",name:"heureEnd",type:"time",min:"00:00",max:"23:59",onClick:function(e){return e.target.value=""},onChange:function(e){return F(e)}}),Object(o.jsx)("div",{className:"red accent-1",children:m})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"details",children:"detail de la tache (facultatif)"}),Object(o.jsx)("input",{id:"details",className:"form-control",name:"details",type:"text",onChange:function(e){return F(e)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"site",children:"Site (facultatif)"}),Object(o.jsxs)("select",{id:"site",name:"site",style:{display:"block"},onBlur:function(e){B(e)},children:[Object(o.jsx)("option",{selected:!0,children:"Site "}),_.map((function(e){return Object(o.jsx)("option",{value:e.site_id,children:"Site "+e.site_number_site},e.site_id)}))]})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"client",children:"User (facultatif)"}),Object(o.jsxs)("select",{id:"client",name:"client",style:{display:"block"},onBlur:function(e){B(e)},children:[Object(o.jsx)("option",{selected:!0,children:"User"}),S.map((function(t){return Object(o.jsxs)("option",{value:t.id,children:[t.data.map((function(a){return a.userData_userId===t.id&&("Nom"===a.userData_key&&(e=a.userData_column),"Pr\xe9nom"===a.userData_key&&(e=e+" "+a.userData_column)),0})),e]},t.id)}))]})]}),Object(o.jsx)("div",{className:"mt-4",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-lg btnLogin",children:"Valider"})})]})})})}),Object(o.jsx)(h.a,{className:"btn-floating btn-large waves-effect waves-light orange lighten-1 z-deepth-3",style:{position:"fixed",top:"95px",left:"50px"},to:"/planning",children:Object(o.jsx)("i",{className:"material-icons",children:"navigate_before"})})]})]})})})})})})})},aa=function(e){var t,a=e.task,r=e.taskData,s=e.users,c=e.sites,u=Object(b.f)(),d=Object(n.useState)(""),m=Object(i.a)(d,2),j=m[0],h=m[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),O=f[0],x=f[1],v=Object(n.useState)(""),g=Object(i.a)(v,2),_=g[0],N=g[1],y=Object(n.useState)(""),k=Object(i.a)(y,2),S=k[0],D=k[1],E=Object(n.useState)(""),w=Object(i.a)(E,2),T=w[0],A=w[1],C=Object(n.useState)(""),U=Object(i.a)(C,2),M=U[0],P=U[1],F=Object(n.useState)(""),B=Object(i.a)(F,2),G=B[0],z=B[1],H=Object(n.useState)(""),Y=Object(i.a)(H,2),V=Y[0],J=Y[1],q=Object(n.useState)(""),K=Object(i.a)(q,2),W=K[0],$=K[1],Z=Object(n.useState)(""),Q=Object(i.a)(Z,2),X=Q[0],ee=Q[1],te=Object(n.useState)(""),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1],se=Object(n.useState)(""),ce=Object(i.a)(se,2),ie=ce[0],le=ce[1],oe=Object(n.useState)(""),ue=Object(i.a)(oe,2),de=ue[0],me=ue[1],je=Object(n.useState)({taskTitle:{value:null},dateStart:{value:null},dateEnd:{value:null},heureStart:{value:null},heureEnd:{value:null},details:{value:null}}),be=Object(i.a)(je,2),he=be[0],pe=be[1];Object(n.useEffect)((function(){if(r.map((function(e){return"user_id"===e.taskData_key?P(e.taskData_column):"site_id"===e.taskData_key?J(e.taskData_column):"Description"===e.taskData_key?z(e.taskData_column):"nameUser"===e.taskData_key&&$(e.taskData_column),0})),a){var e=a.task_dateStart.split(" ");x(e[0]),N(e[1]);var t=a.task_dateEnd.split(" ");D(t[0]),A(t[1]),h(a)}}),[a,r]);var fe=function(e){"site"===e.target.name?J(e.target.value):"users"===e.target.name&&(P(e.target.value),$(e.target.selectedOptions[0].text));var t=e.target.name,a=e.target.value,n=Object(L.a)({},t,{value:a});pe(Object(l.a)(Object(l.a)({},he),n))},Oe=function(e){"dateStart"===e.target.name?x(e.target.value):"dateEnd"===e.target.name?D(e.target.value):"heureStart"===e.target.name?N(e.target.value):"heureEnd"===e.target.name?A(e.target.value):"details"===e.target.name?z(e.target.value):"taskTitle"===e.target.name&&(j.task_title=e.target.value);var t=e.target.name,a=e.target.value,n=Object(L.a)({},t,{value:a});pe(Object(l.a)(Object(l.a)({},he),n))},xe=function(){var e=Object(I.a)(R.a.mark((function e(t){var a,n,s,c,i,l,o,d,m,b,h;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=new Date,n=a.getFullYear(),s=a.getMonth(),c=a.getDate(),i=a.getHours(),l=a.getMinutes(),o=n+"-"+(s+1)+"-"+c+" "+i+":"+l+":00",d=O+" "+_,m=S+" "+T,""!==j.task_title&&""!==_&&""!==T&&""!==O&&""!==S?(re(""),le(""),ee(""),me(""),d<=m&&(ke({task_id:j.task_id,task_title:j.task_title,task_dateStart:d,task_dateEnd:m,updated_at:o}),r.map((function(e){return console.log(e),Le(e.taskData_id),0})),"Site"!==V&&De({taskData_taskId:j.task_id,taskData_key:"site_id",taskData_column:V}),"User"!==M&&(b={taskData_taskId:j.task_id,taskData_key:"user_id",taskData_column:M},h={taskData_taskId:j.task_id,taskData_key:"nameUser",taskData_column:W},De(b),De(h)),""!==G&&De({taskData_taskId:j.task_id,taskData_key:"Description",taskData_column:G}),u.push("/planning"))):(""!==O&&""!==S||ee("Date non valide"),""===_&&re("Heure non valide"),""===T&&le("Heure non valide"),""===j.task_title&&me("Titre manquant"));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"hero-site",children:Object(o.jsx)("form",{className:"mt-5 d-flex justify-content-center",onSubmit:function(e){return xe(e)},children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12 m8",children:Object(o.jsxs)("div",{className:"card hoverable",id:"cardGeneral",children:[Object(o.jsxs)("h2",{className:"text-center",children:["Modifier la tache ",j?j.task_title:""]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"taskTitle",children:"Titre de la tache"}),Object(o.jsx)("input",{id:"taskTitle",className:"form-control",value:j?j.task_title:"",name:"taskTitle",type:"text",onChange:function(e){return Oe(e)}})]}),Object(o.jsx)("div",{className:"red accent-1",children:de}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"dateStart",children:"Date de d\xe9but de la tache"}),Object(o.jsx)("input",{id:"dateStart",className:"form-control",name:"dateStart",value:O||"",type:"date",onChange:function(e){return Oe(e)}})]}),Object(o.jsx)("div",{className:"red accent-1",children:X}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"heureStart",children:"Heure de d\xe9but de la tache"}),Object(o.jsx)("input",{id:"heureStart",className:"form-control",placeholder:"10:00",value:_||"",name:"heureStart",min:"00:00",max:"23:59",onClick:function(e){e.target.value="",N("")},type:"time",onChange:function(e){return Oe(e)}})]}),Object(o.jsx)("div",{className:"red accent-1",children:ne}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"dateEnd",children:"Date de fin de la tache"}),Object(o.jsx)("input",{id:"dateEnd",className:"form-control",name:"dateEnd",value:S||"",type:"date",onChange:function(e){return Oe(e)}})]}),Object(o.jsx)("div",{className:"red accent-1",children:X}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"heureEnd",children:"Heure de fin de la tache"}),Object(o.jsx)("input",{id:"heureEnd",className:"form-control",placeholder:"10:00",value:T||"",name:"heureEnd",min:"00:00",max:"23:59",onClick:function(e){e.target.value="",A("")},type:"time",onChange:function(e){return Oe(e)}})]}),Object(o.jsx)("div",{className:"red accent-1",children:ie}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"details",children:"detail de la tache (facultatif)"}),Object(o.jsx)("input",{id:"details",className:"form-control",value:G||"",name:"details",type:"text",onChange:function(e){return Oe(e)}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"site",children:"Site (facultatif)"}),Object(o.jsxs)("select",{id:"site",name:"site",style:{display:"block"},onBlur:function(e){fe(e)},children:[Object(o.jsx)("option",{children:"Site "}),c.map((function(e){return Object(o.jsx)("option",{selected:V===e.site_id,value:e.site_id,children:"Site "+e.site_number_site},e.site_id)}))]})]}),console.log(s),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"users",children:"User (facultatif)"}),Object(o.jsxs)("select",{id:"users",name:"users",style:{display:"block"},onBlur:function(e){fe(e)},children:[Object(o.jsx)("option",{children:"User"}),0!==s.length?s.map((function(e){return Object(o.jsxs)("option",{selected:M===e.id,value:e.id,children:[e.data.map((function(a){return a.userData_userId===e.id&&("Nom"===a.userData_key&&(t=a.userData_column),"Pr\xe9nom"===a.userData_key&&(t=t+" "+a.userData_column)),0})),t]},e.id)})):null]})]}),Object(o.jsx)("div",{className:"mt-4",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-lg btnLogin",children:"Valider"})})]})]})})})})})})},na=function(e){var t=e.match,a=Object(n.useState)(),r=Object(i.a)(a,2),s=r[0],c=r[1],l=Object(n.useState)([]),u=Object(i.a)(l,2),d=u[0],m=u[1],j=Object(n.useState)([]),b=Object(i.a)(j,2),h=b[0],p=b[1],f=Object(n.useState)([]),O=Object(i.a)(f,2),x=O[0],v=O[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(I.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(+t.params.id).then((function(e){e.map((function(e){return c(e)}))}));case 2:return e.next=4,we(+t.params.id).then((function(e){m(e)}));case 4:return e.next=6,q().then((function(e){p(e)}));case 6:return e.next=8,ot.getAllSites().then((function(e){v(e)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t.params.id]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"hero-auto",children:Object(o.jsx)("div",{className:"container mt-5",children:Object(o.jsx)("div",{className:"mt-5",children:Object(o.jsx)(aa,{task:s,taskData:d,users:h,sites:x})})})})})},ra=function(){var e=U()().unix()<Number(localStorage.getItem("token_validity"));return e||localStorage.clear(),e},sa=(a(123),{2022:{chartChantier:[6,15,13,41,20,33,8,2,15,16,27,4],chartChiffre:[5e3,8e3,2e4,5e4,1e4,7e3],chartJob:[4,2,1,5,4,8]},2021:{chartChantier:[4,12,11,51,10,53,2,1,11,10,7,5],chartChiffre:[2e3,5e3,25e3,2e4,8e4,6e3],chartJob:[10,4,8,4,4,5]},2020:{chartChantier:[4,12,11,51,10,53,2,1,11,10,7,5],chartChiffre:[2e3,100,5e3,15e3,8e4,6e3],chartJob:[10,3,8,4,4,5]},2019:{chartChantier:[4,16,11,51,1,5,2,1,11,10,7,5],chartChiffre:[2e3,1e3,5e3,1e4,8e4,6e3],chartJob:[1,4,10,4,4,5]}}),ca=a(110),ia=a(28);function la(){var e=Object(n.useRef)(),t=["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","septembre","Octobre","Novembre","D\xe9cembre"],a=Object(n.useState)({data:{labels:t,datasets:[{label:"2022",data:sa[2022].chartChantier,backgroundColor:"rgba(212, 142,\t25, 0.7)"},{label:"2021",data:sa[2021].chartChantier,backgroundColor:"rgba(136, 152, 170, 0.7)"}]},dataLine:{labels:t,datasets:[{label:"2022",data:sa[2022].chartChiffre,borderColor:"rgb(212, 142,\t25)",backgroundColor:"rgba(212, 142, 25, 0.7)"},{label:"2021",data:sa[2021].chartChiffre,borderColor:"rgb(136, 152, 170)",backgroundColor:"rgba(136, 152, 170, 0.7)"}]},dataPie:{labels:["Electricit\xe9","Plomberie","Couverture","Ma\xe7onnerie","Menuiserie","Gros oeuvre"],datasets:[{label:"Corps de m\xe9tier par chantier",data:sa[2021].chartJob,backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}),r=Object(i.a)(a,2),s=r[0],c=r[1];return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"global-container",children:[Object(o.jsx)("h1",{className:"h1v3",children:"Les r\xe9sultats de l 'ann\xe9e :"}),Object(o.jsxs)("form",{children:[Object(o.jsx)("label",{htmlFor:"year",children:" Choisissez une date "}),Object(o.jsxs)("select",{onChange:function(){var a=e.current.options[e.current.selectedIndex].value;console.log(a),c({data:{labels:t,datasets:[{label:"2022",data:sa[2022].chartChantier,backgroundColor:"rgba(212, 142,\t25, 0.7)"},{label:"".concat(a),data:sa[a].chartChantier,backgroundColor:"rgba(136, 152, 170, 0.7)"}]},dataLine:{labels:t,datasets:[{label:"2022",data:sa[2022].chartChiffre,borderColor:"rgb(212, 142,\t25)",backgroundColor:"rgba(212, 142, 25, 0.7)"},{label:"".concat(a),data:sa[a].chartChiffre,borderColor:"rgb(136, 152, 170)",backgroundColor:"rgba(136, 152, 170, 0.7)"}]},dataPie:{labels:["Electricit\xe9","Plomberie","Couverture","Ma\xe7onnerie","Menuiserie","Gros oeuvre"],datasets:[{label:"Corps de m\xe9tier par chantier",data:sa[a].chartJob,backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}})},ref:e,name:"year",children:[Object(o.jsx)("option",{disabled:!0,value:"2022",children:"2022"}),Object(o.jsx)("option",{selected:!0,value:"2021",children:"2021"}),Object(o.jsx)("option",{value:"2020",children:"2020"}),Object(o.jsx)("option",{value:"2019",children:"2019"})]})]}),Object(o.jsxs)("div",{className:"chart-container",children:[Object(o.jsx)("h2",{children:"Nombre de chantiers par mois"}),Object(o.jsx)(ca.a,{options:{responsive:!0,plugins:{legend:{position:"top"}}},data:s.data})]}),Object(o.jsxs)("div",{className:"chart-container",children:[Object(o.jsx)("h2",{children:"Chiffres d 'affaire"}),Object(o.jsx)(ca.b,{options:{responsive:!0,plugins:{legend:{position:"top"}}},data:s.dataLine})]}),Object(o.jsxs)("div",{className:"chart-container-pies",children:[Object(o.jsx)("h2",{children:"Corps de m\xe9tier par chantier"}),Object(o.jsx)(ca.c,{data:s.dataPie})]})]})})}ia.f.register(ia.e,ia.k,ia.c,ia.m,ia.j,ia.a,ia.q,ia.r,ia.h);var oa=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"hero-auto",children:Object(o.jsx)("div",{className:"container containerWhite",children:Object(o.jsx)("div",{children:Object(o.jsx)(la,{})})})}),Object(o.jsxs)("div",{style:{position:"fixed",top:"130px",left:"50px"},className:"none-sm",children:[Object(o.jsx)("p",{className:"h5 text-light",children:"Ajouter un chantier"}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light green lighten-1 z-deepth-3",style:{position:"fixed",top:"160px",left:"95px"},to:"/sites/add",children:Object(o.jsx)("i",{className:"material-icons",children:"add"})})]}),Object(o.jsxs)("div",{style:{position:"fixed",top:"260px",left:"50px"},className:"none-sm",children:[Object(o.jsx)("p",{className:"h5 text-light",children:"Ajouter du mat\xe9riel"}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light green lighten-1 z-deepth-3",style:{position:"fixed",top:"290px",left:"95px"},to:"/CreateMaterial",children:Object(o.jsx)("i",{className:"material-icons",children:"add"})})]}),Object(o.jsxs)("div",{style:{position:"fixed",top:"390px",left:"50px"},className:"none-sm",children:[Object(o.jsx)("p",{className:"h5 text-light",children:"Ajouter un Rdv"}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light green lighten-1 z-deepth-3",style:{position:"fixed",top:"420px",left:"95px"},to:"/planning/add",children:Object(o.jsx)("i",{className:"material-icons",children:"add"})})]})]})},ua=function(e){var t,a,r=e.eventsChantier,s=Object(Ie.b)(U.a);return Object(n.useEffect)((function(){for(var e=document.getElementsByTagName("button"),n=0;n<e.length;n++){"Week"===e[n].innerHTML||"Day"===e[n].innerHTML||"Today"===e[n].innerHTML?e[n].style.display="none":"Month"===e[n].innerHTML||"Mois"===e[n].innerHTML?(e[n].innerHTML="Mois",t=e[n]):"Next"===e[n].innerHTML?e[n].innerHTML="Suiv.":"Back"===e[n].innerHTML?e[n].innerHTML="Arr.":"Agenda"===e[n].innerHTML&&(a=e[n]);for(var r=document.getElementsByClassName("rbc-toolbar-label"),s=0;s<r.length;s++)console.log(r[s])}t?t.click():console.log(),a?a.click():console.log(),t?t.click():console.log(),setTimeout((function(){t?t.click():console.log();for(var e=["Dimanche","Lundi","Mardi","mercredi","Jeudi","Vendredi","Samedi"],a=document.getElementsByClassName("rbc-header"),n=0;n<a.length;n++)for(var r=a[n].childNodes,s=0;s<r.length;s++)r[s].innerHTML=e[n]}),100)}),[]),Object(o.jsxs)(o.Fragment,{children:[console.log(r),Object(o.jsxs)("div",{className:"planningChantier",children:[Object(o.jsx)("h1",{className:"center pt-5 mt-5 text-light",children:"Planning chantier"}),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)(Ie.a,{localizer:s,defaultDate:new Date,defaultView:"month",events:r,onSelectEvent:function(e){},style:{height:"100vh"}})})})]})]})},da=function(){var e=localStorage.getItem("user_id"),t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],s=a[1],c=[];Object(n.useEffect)((function(){l()}),[]),Object(n.useEffect)((function(){u()}),[r]);var l=function(){var t=Object(I.a)(R.a.mark((function t(){var a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("3"!==localStorage.getItem("user_role")&&"4"!==localStorage.getItem("user_role")){t.next=7;break}return t.next=3,ot.getAllSites();case 3:0===(a=t.sent).length&&(a=[]),t.next=11;break;case 7:return t.next=9,ot.getSiteByUser(e);case 9:a=t.sent,console.log(a);case 11:s(a);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){r&&r.map((function(e){return console.log(e),c.push({title:e.site_number_site,start:d(e.site_date_start),end:d(e.site_date_end),ressourceId:e.site_id}),0}))},d=function(e){return U.a.unix(e).format("YYYY-MM-DD hh:mm:ss")};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"hero-auto",children:Object(o.jsx)(ua,{eventsChantier:c})})})},ma=function(e){var t=e.match,a=[],r=t.params.id,s=Object(n.useState)([]),c=Object(i.a)(s,2),l=c[0],u=c[1];Object(n.useEffect)((function(){var e=function(){var e=Object(I.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.getSite(r);case 2:t=e.sent,a.push(t.site),u(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(n.useEffect)((function(){m()}),[l]);var d=[],m=function(){l&&l.map((function(e){return console.log(e),d.push({title:e.site_number_site,start:j(e.site_date_start),end:j(e.site_date_end),ressourceId:e.site_id}),0}))},j=function(e){return U.a.unix(e).format("YYYY-MM-DD hh:mm:ss")};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"hero-auto",children:Object(o.jsx)(ua,{eventsChantier:d})})})},ja=function(){var e=j(),t=(Object(b.f)(),function(e){switch(e){case Re.DIRECTOR:case Re.MANAGER:return!0;case Re.CUSTOMER:case Re.EMPLOYEE:case Re.UNDEFINED:default:return!1}}),a=r.a.useState(!0),n=Object(i.a)(a,2),s=(n[0],n[1]),c=function(){var e=document.getElementById("navv");window.scrollY>1150?(s(!1),e.classList.add("navbarScroll")):(s(!0),e.classList.remove("navbarScroll"))};return r.a.useEffect((function(){return window.addEventListener("scroll",c),function(){window.removeEventListener("scroll",c)}}),[]),Object(o.jsx)(h.a,{children:Object(o.jsxs)("div",{className:"",children:[Object(o.jsx)(xt.a,{expand:"lg",id:"navv",children:Object(o.jsxs)(vt.a,{fluid:!0,children:[Object(o.jsxs)(xt.a.Brand,{children:[" ",Object(o.jsxs)(h.b,{to:"/",children:[Object(o.jsx)("img",{src:ie,alt:"logo",id:"logoNav"})," "]})]}),Object(o.jsx)(xt.a.Toggle,{"aria-controls":"navbarScroll"}),Object(o.jsxs)(xt.a.Collapse,{id:"navbarScroll",children:[Object(o.jsxs)(gt.a,{className:"me-auto my-2 my-lg-0",id:"navbarScroll",navbarScroll:!0,children:[Object(o.jsxs)(gt.a.Link,{children:[" ",Object(o.jsx)(h.b,{to:"/",children:"Accueil"})]}),ra()?Object(o.jsxs)(gt.a.Link,{children:[" ",Object(o.jsx)(h.b,{to:"/profile",className:"",children:"Profil"})]}):"",ra()?"":Object(o.jsxs)(gt.a.Link,{children:[" ",Object(o.jsx)(h.b,{to:"/login",className:"",children:"Connexion"})]}),Object(o.jsxs)(gt.a.Link,{children:[" ",Object(o.jsx)(h.b,{to:"/devis",children:"Devis"})]}),ra()&&t(Number(localStorage.getItem("user_role")))?Object(o.jsxs)(gt.a.Link,{children:[" ",Object(o.jsx)(h.b,{to:"/Dashboard",children:"Dashboard"})]}):"",ra()&&t(Number(localStorage.getItem("user_role")))?Object(o.jsxs)(gt.a.Link,{children:[" ",Object(o.jsx)(h.b,{to:"/material",className:"",children:"Mat\xe9riel"})]}):"",ra()?Object(o.jsxs)(_t.a,{title:"Chantiers",id:"nav-dropdown",children:[Object(o.jsx)(_t.a.Item,{eventKey:"4.1",children:Object(o.jsx)(h.b,{to:"/sites",className:"",children:"Liste Chantiers"})}),Object(o.jsx)(_t.a.Divider,{}),Object(o.jsx)(_t.a.Item,{eventKey:"4.2",children:Object(o.jsx)(h.b,{to:"/planningChantier",className:"",children:"Planning Chantiers"})})]}):"",ra()&&t(Number(localStorage.getItem("user_role")))?Object(o.jsx)(gt.a.Link,{children:Object(o.jsx)(h.b,{to:"/problems",className:"",children:"Ticket"})}):"",ra()?Object(o.jsx)(gt.a.Link,{children:Object(o.jsx)(h.b,{to:"/planning",className:"",children:"Agenda"})}):""]}),ra()?Object(o.jsx)(gt.a,{className:"d-flex justify-content-end",children:Object(o.jsx)(gt.a.Link,{children:Object(o.jsx)(h.b,{to:"/",onClick:function(){return localStorage.clear(),void(e&&e.dispatch({type:"setUser",payload:{id:void 0,role:void 0}}))},children:"D\xe9connexion"})})}):""]})]})}),ra()?t(Number(localStorage.getItem("user_role")))?Object(o.jsxs)(b.c,{children:[Object(o.jsx)(b.a,{exact:!0,path:"/planning",component:Pe}),Object(o.jsx)(b.a,{exact:!0,path:"/planning/add",component:ta}),Object(o.jsx)(b.a,{exact:!0,path:"/planning/modify/:id",component:na}),Object(o.jsx)(b.a,{exact:!0,path:"/",component:T}),Object(o.jsx)(b.a,{exact:!0,path:"/profile",component:He}),Object(o.jsx)(b.a,{exact:!0,path:"/login",component:ue}),Object(o.jsx)(b.a,{exact:!0,path:"/devis",component:pe}),Object(o.jsx)(b.a,{exact:!0,path:"/material",component:ct}),Object(o.jsx)(b.a,{exact:!0,path:"/sites",component:ut}),Object(o.jsx)(b.a,{exact:!0,path:"/problems",component:Pt}),Object(o.jsx)(b.a,{exact:!0,path:"/sites/search/:id",component:dt}),Object(o.jsx)(b.a,{exact:!0,path:"/CreateMaterial",component:Jt}),Object(o.jsx)(b.a,{exact:!0,path:"/problems/create/",component:qt}),Object(o.jsx)(b.a,{exact:!0,path:"/problems/update/:id",component:zt}),Object(o.jsx)(b.a,{exact:!0,path:"/problems/detail/:id",component:Ht}),Object(o.jsx)(b.a,{exact:!0,path:"/sites/add",component:Ot}),Object(o.jsx)(b.a,{exact:!0,path:"/sites/edit/:id",component:Kt}),Object(o.jsx)(b.a,{exact:!0,path:"/CreateUser",component:Qt}),Object(o.jsx)(b.a,{exact:!0,path:"/users/update/:id",component:Xt}),Object(o.jsx)(b.a,{exact:!0,path:"/material/update/:id",component:ea}),Object(o.jsx)(b.a,{exact:!0,path:"/Dashboard",component:oa}),Object(o.jsx)(b.a,{exact:!0,path:"/planningChantier",component:da}),Object(o.jsx)(b.a,{exact:!0,path:"/planningSite/uniq/:id",component:ma})]}):Object(o.jsxs)(b.c,{children:[Object(o.jsx)(b.a,{exact:!0,path:"/planning",component:Pe}),Object(o.jsx)(b.a,{exact:!0,path:"/planning/add",component:ta}),Object(o.jsx)(b.a,{exact:!0,path:"/planning/modify/:id",component:na}),Object(o.jsx)(b.a,{exact:!0,path:"/",component:T}),Object(o.jsx)(b.a,{exact:!0,path:"/profile",component:He}),Object(o.jsx)(b.a,{exact:!0,path:"/login",component:ue}),Object(o.jsx)(b.a,{exact:!0,path:"/devis",component:pe}),Object(o.jsx)(b.a,{exact:!0,path:"/sites",component:ut}),Object(o.jsx)(b.a,{exact:!0,path:"/sites/search/:id",component:dt}),Object(o.jsx)(b.a,{exact:!0,path:"/sites/add",component:Ot}),Object(o.jsx)(b.a,{exact:!0,path:"/sites/edit/:id",component:Kt}),Object(o.jsx)(b.a,{exact:!0,path:"/CreateUser",component:Qt}),Object(o.jsx)(b.a,{exact:!0,path:"/users/update/:id",component:Xt}),Object(o.jsx)(b.a,{exact:!0,path:"/planningChantier",component:da}),Object(o.jsx)(b.a,{exact:!0,path:"/planningSite/uniq/:id",component:ma})]}):Object(o.jsxs)(b.c,{children:[Object(o.jsx)(b.a,{exact:!0,path:"/",component:T}),Object(o.jsx)(b.a,{exact:!0,path:"/login",component:ue}),Object(o.jsx)(b.a,{exact:!0,path:"/devis",component:pe})]})]})})},ba=a(65),ha=a(129);function pa(){return Object(o.jsxs)(ba.c,{className:"text-white text-center text-lg-left",children:[Object(o.jsx)(ba.b,{className:"p-2 pt-4",children:Object(o.jsxs)(ba.d,{children:[Object(o.jsx)(ba.a,{lg:"6",md:"12",className:"mb-4 mb-md-0",children:Object(o.jsx)("img",{className:"mt-5",src:ie,alt:"logo",id:"logoFooter"})}),Object(o.jsxs)(ba.a,{lg:"3",md:"6",className:"mb-4 mb-md-0",children:[Object(o.jsxs)("h5",{className:"text-uppercase",children:[Object(o.jsx)("i",{className:"fas fa-map-marker-alt"})," Nos Adresses"]}),Object(o.jsx)("h6",{children:"Si\xe8ge social"}),Object(o.jsxs)("p",{children:["10 place L\xe9on Meyer ",Object(o.jsx)("br",{}),"76600 Le Havreeeeeeeee"]}),Object(o.jsx)("h6",{children:"Agence Le Havre"}),Object(o.jsxs)("p",{children:["12 place L\xe9on Meyer ",Object(o.jsx)("br",{}),"76600 Le Havre"]}),Object(o.jsx)("h6",{children:"Atelier technique"}),Object(o.jsxs)("p",{children:["15 place L\xe9on Meyer ",Object(o.jsx)("br",{}),"76600 Le Havre"]})]}),Object(o.jsxs)(ba.a,{lg:"3",md:"6",className:"mb-4 mb-md-0",children:[Object(o.jsx)("h5",{className:"text-uppercase",children:"Contact"}),Object(o.jsxs)("p",{children:["Si\xe8ge social ",Object(o.jsx)("br",{}),Object(o.jsx)("i",{className:"fas fa-mobile-alt"})," 02 35 02 02 01"]}),Object(o.jsxs)("p",{children:["Agence Le Havre ",Object(o.jsx)("br",{}),Object(o.jsx)("i",{className:"fas fa-mobile-alt"})," 02 35 02 02 02"]}),Object(o.jsxs)("p",{children:["Nous contacter pour un devis : ",Object(o.jsx)("i",{className:"fas fa-envelope"})," "]})]})]})}),Object(o.jsxs)("div",{className:"text-center p-3",style:{backgroundColor:"rgba(0, 0, 0, 0.2)"},children:["\xa9 ",(new Date).getFullYear()," Copyright"," "]}),Object(o.jsx)(ha.Scroll,{})]})}var fa=function(){return Object(o.jsxs)(m,{children:[Object(o.jsx)(ja,{}),Object(o.jsx)(pa,{})]})};c.a.render(Object(o.jsx)(fa,{}),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.406ca476.chunk.js.map